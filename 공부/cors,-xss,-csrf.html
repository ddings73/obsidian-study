<!DOCTYPE html> <html><head>
		<title>CORS, XSS, CSRF</title>
		<base href="../">
		<meta id="root-path" root-path="../">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=1.0, maximum-scale=5.0">
		<meta charset="UTF-8">
		<meta name="description" content="Obsidian Vault - CORS, XSS, CSRF">
		<meta property="og:title" content="CORS, XSS, CSRF">
		<meta property="og:description" content="Obsidian Vault - CORS, XSS, CSRF">
		<meta property="og:type" content="website">
		<meta property="og:url" content="공부/cors,-xss,-csrf.html">
		<meta property="og:image" content="undefined">
		<meta property="og:site_name" content="Obsidian Vault">
		<link rel="alternate" type="application/rss+xml" title="RSS Feed" href="lib/rss.xml"><script async="" id="webpage-script" src="lib/scripts/webpage.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script async="" id="minisearch-script" src="lib/scripts/minisearch.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><link rel="icon" href="lib/media/favicon.png"><style>body{--line-width:40em;--line-width-adaptive:40em;--file-line-width:40em;--sidebar-width:min(20em, 80vw);--collapse-arrow-size:11px;--tree-horizontal-spacing:0.6em;--tree-vertical-spacing:0.6em;--sidebar-margin:12px}.sidebar{height:100%;min-width:calc(var(--sidebar-width) + var(--divider-width-hover));max-width:calc(var(--sidebar-width) + var(--divider-width-hover));font-size:14px;z-index:10;position:relative;overflow:hidden;transition:min-width ease-in-out,max-width ease-in-out;transition-duration:.2s;contain:size}.sidebar-left{left:0}.sidebar-right{right:0}.sidebar.is-collapsed{min-width:0;max-width:0}body.floating-sidebars .sidebar{position:absolute}.sidebar-content{height:100%;min-width:calc(var(--sidebar-width) - var(--divider-width-hover));top:0;padding:var(--sidebar-margin);padding-top:4em;line-height:var(--line-height-tight);background-color:var(--background-secondary);transition:background-color,border-right,border-left,box-shadow;transition-duration:var(--color-fade-speed);transition-timing-function:ease-in-out;position:absolute;display:flex;flex-direction:column}.sidebar:not(.is-collapsed) .sidebar-content{min-width:calc(max(100%,var(--sidebar-width)) - 3px);max-width:calc(max(100%,var(--sidebar-width)) - 3px)}.sidebar-left .sidebar-content{left:0;border-top-right-radius:var(--radius-l);border-bottom-right-radius:var(--radius-l)}.sidebar-right .sidebar-content{right:0;border-top-left-radius:var(--radius-l);border-bottom-left-radius:var(--radius-l)}.sidebar:has(.sidebar-content:empty):has(.topbar-content:empty){display:none}.sidebar-topbar{height:2em;width:var(--sidebar-width);top:var(--sidebar-margin);padding-inline:var(--sidebar-margin);z-index:1;position:fixed;display:flex;align-items:center;transition:width ease-in-out;transition-duration:inherit}.sidebar.is-collapsed .sidebar-topbar{width:calc(2.3em + var(--sidebar-margin) * 2)}.sidebar .sidebar-topbar.is-collapsed{width:0}.sidebar-left .sidebar-topbar{left:0}.sidebar-right .sidebar-topbar{right:0}.topbar-content{overflow:hidden;overflow:clip;width:100%;height:100%;display:flex;align-items:center;transition:inherit}.sidebar.is-collapsed .topbar-content{width:0;transition:inherit}.clickable-icon.sidebar-collapse-icon{background-color:transparent;color:var(--icon-color-focused);padding:0!important;margin:0!important;height:100%!important;width:2.3em!important;margin-inline:0.14em!important;position:absolute}.sidebar-left .clickable-icon.sidebar-collapse-icon{transform:rotateY(180deg);right:var(--sidebar-margin)}.sidebar-right .clickable-icon.sidebar-collapse-icon{transform:rotateY(180deg);left:var(--sidebar-margin)}.clickable-icon.sidebar-collapse-icon svg.svg-icon{width:100%;height:100%}.sidebar-section-header{margin:0 0 1em 0;text-transform:uppercase;letter-spacing:.06em;font-weight:600}body{transition:background-color var(--color-fade-speed) ease-in-out}.webpage-container{display:flex;flex-direction:row;height:100%;width:100%;align-items:stretch;justify-content:center}.document-container{opacity:1;flex-basis:100%;max-width:100%;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;transition:opacity .2s ease-in-out;contain:inline-size}.hide{opacity:0;transition:opacity .2s ease-in-out}.document-container>.markdown-preview-view{margin:var(--sidebar-margin);margin-bottom:0;width:100%;width:-webkit-fill-available;width:-moz-available;width:fill-available;background-color:var(--background-primary);transition:background-color var(--color-fade-speed) ease-in-out;border-top-right-radius:var(--window-radius,var(--radius-m));border-top-left-radius:var(--window-radius,var(--radius-m));overflow-x:hidden!important;overflow-y:auto!important;display:flex!important;flex-direction:column!important;align-items:center!important;contain:inline-size}.document-container>.markdown-preview-view>.markdown-preview-sizer{padding-bottom:80vh!important;width:100%!important;max-width:var(--line-width)!important;flex-basis:var(--line-width)!important;transition:background-color var(--color-fade-speed) ease-in-out;contain:inline-size}.markdown-rendered img:not([width]),.view-content img:not([width]){max-width:100%;outline:0}.document-container>.view-content.embed{display:flex;padding:1em;height:100%;width:100%;align-items:center;justify-content:center}.document-container>.view-content.embed>*{max-width:100%;max-height:100%;object-fit:contain}:has(> :is(.math,table)){overflow-x:auto!important}.document-container>.view-content{overflow-x:auto;contain:content;padding:0;margin:0;height:100%}.scroll-highlight{position:absolute;width:100%;height:100%;pointer-events:none;z-index:1000;background-color:hsla(var(--color-accent-hsl),.25);opacity:0;padding:1em;inset:50%;translate:-50% -50%;border-radius:var(--radius-s)}</style><script defer="">async function loadIncludes(){if("file:"!=location.protocol){let e=document.querySelectorAll("include");for(let t=0;t<e.length;t++){let o=e[t],l=o.getAttribute("src");try{const e=await fetch(l);if(!e.ok){console.log("Could not include file: "+l),o?.remove();continue}let t=await e.text(),n=document.createRange().createContextualFragment(t),i=Array.from(n.children);for(let e of i)e.classList.add("hide"),e.style.transition="opacity 0.5s ease-in-out",setTimeout((()=>{e.classList.remove("hide")}),10);o.before(n),o.remove(),console.log("Included file: "+l)}catch(e){o?.remove(),console.log("Could not include file: "+l,e);continue}}}else{if(document.querySelectorAll("include").length>0){var e=document.createElement("div");e.id="error",e.textContent="Web server exports must be hosted on an http / web server to be viewed correctly.",e.style.position="fixed",e.style.top="50%",e.style.left="50%",e.style.transform="translate(-50%, -50%)",e.style.fontSize="1.5em",e.style.fontWeight="bold",e.style.textAlign="center",document.body.appendChild(e),document.querySelector(".document-container")?.classList.remove("hide")}}}document.addEventListener("DOMContentLoaded",(()=>{loadIncludes()}));let isFileProtocol="file:"==location.protocol;function waitLoadScripts(e,t){let o=e.map((e=>document.getElementById(e+"-script"))),l=0;!function e(){let n=o[l];l++,n&&"true"!=n.getAttribute("loaded")||l<o.length&&e(),l<o.length?n.addEventListener("load",e):t()}()}</script><link rel="stylesheet" href="lib/styles/obsidian.css"><link rel="preload" href="lib/styles/other-plugins.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="lib/styles/other-plugins.css"></noscript><link rel="stylesheet" href="lib/styles/theme.css"><link rel="preload" href="lib/styles/global-variable-styles.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="lib/styles/global-variable-styles.css"></noscript><link rel="preload" href="lib/styles/main-styles.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="lib/styles/main-styles.css"></noscript><link rel="preload" href="lib/styles/snippets.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="lib/styles/snippets.css"></noscript></head><body class="publish css-settings-manager theme-dark show-inline-title show-ribbon"><script defer="">let theme=localStorage.getItem("theme")||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");"dark"==theme?(document.body.classList.add("theme-dark"),document.body.classList.remove("theme-light")):(document.body.classList.add("theme-light"),document.body.classList.remove("theme-dark")),window.innerWidth<480?document.body.classList.add("is-phone"):window.innerWidth<768?document.body.classList.add("is-tablet"):window.innerWidth<1024?document.body.classList.add("is-small-screen"):document.body.classList.add("is-large-screen")</script><div class="webpage-container workspace"><div class="sidebar-left sidebar"><div class="sidebar-handle"></div><div class="sidebar-topbar"><div class="topbar-content"><label class="theme-toggle-container" for="theme_toggle"><input class="theme-toggle-input" type="checkbox" id="theme_toggle"><div class="toggle-background"></div></label></div><div class="clickable-icon sidebar-collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" class="svg-icon"><path d="M21 3H3C1.89543 3 1 3.89543 1 5V19C1 20.1046 1.89543 21 3 21H21C22.1046 21 23 20.1046 23 19V5C23 3.89543 22.1046 3 21 3Z"></path><path d="M10 4V20"></path><path d="M4 7H7"></path><path d="M4 10H7"></path><path d="M4 13H7"></path></svg></div></div><div class="sidebar-content"><div class="search-input-container"><input enterkeyhint="search" type="search" spellcheck="false" placeholder="Search..."><div class="search-input-clear-button" aria-label="Clear search"></div></div><include src="lib/html/file-tree.html"></include></div><script defer="">let ls = document.querySelector(".sidebar-left"); ls.classList.add("is-collapsed"); if (window.innerWidth > 768) ls.classList.remove("is-collapsed"); ls.style.setProperty("--sidebar-width", localStorage.getItem("sidebar-left-width"));</script></div><div class="document-container markdown-reading-view hide"><div class="view-content"><style id="MJX-CHTML-styles"></style><div class="excalidraw-plugin"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 4317.955034579524 1004.9510196729838" width="4317.955034579524" height="1004.9510196729838" class="excalidraw-svg dark"><!-- svg-source:excalidraw --><metadata></metadata><defs><style class="style-fonts">
      </style></defs><rect x="0" y="0" width="4317.955034579524" height="1004.9510196729838" fill="#ffffff"></rect><g stroke-linecap="round" transform="translate(1432.316705894264 37.91947377827569) rotate(0 425.6826867107029 407.8277036658357)"><path d="M32 0 C206.74 2.52, 379.98 1.6, 819.37 0 M32 0 C198.94 1.79, 366.19 1.61, 819.37 0 M819.37 0 C841.36 0.23, 852.67 12.47, 851.37 32 M819.37 0 C839.86 1.69, 851.37 8.84, 851.37 32 M851.37 32 C854.06 311.2, 853.63 592.38, 851.37 783.66 M851.37 32 C849.91 220.5, 850.46 409.68, 851.37 783.66 M851.37 783.66 C850.5 803.89, 840.5 814.05, 819.37 815.66 M851.37 783.66 C850.16 802.8, 838.51 814.71, 819.37 815.66 M819.37 815.66 C559.75 817.86, 301.61 817.75, 32 815.66 M819.37 815.66 C556.54 817.11, 294.36 817.32, 32 815.66 M32 815.66 C10.81 814.33, -1.33 803.14, 0 783.66 M32 815.66 C10.6 814.33, 2.29 803.28, 0 783.66 M0 783.66 C3.16 558.47, 3.15 333.05, 0 32 M0 783.66 C1.44 605.17, 1.36 426.66, 0 32 M0 32 C-0.88 12.13, 12.29 -1.98, 32 0 M0 32 C1.21 12.88, 8.83 0.06, 32 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g stroke-linecap="round" transform="translate(1465.5527104919092 17.894213414346837) rotate(0 211.8418636420584 17.5)"><path d="M8.75 0 C102.21 1.96, 190.97 1.98, 414.93 0 C423.24 -0.32, 420.88 2.35, 423.68 8.75 C422.62 10.8, 425.18 14.71, 423.68 26.25 C420.37 34.1, 418.8 36.71, 414.93 35 C284.25 40.78, 152.35 37.71, 8.75 35 C2.26 35.88, 2.05 32.12, 0 26.25 C-2.01 18.17, -1.9 15.92, 0 8.75 C1.13 3.51, -0.5 1.66, 8.75 0" stroke="none" stroke-width="0" fill="#a5d8ff"></path><path d="M8.75 0 C116.8 -0.34, 224.5 0.62, 414.93 0 M8.75 0 C148.39 -0.79, 288.59 -0.22, 414.93 0 M414.93 0 C422.52 -0.15, 423.85 2.02, 423.68 8.75 M414.93 0 C419.39 -1.22, 421.79 2.08, 423.68 8.75 M423.68 8.75 C424.81 12.73, 425.24 20.8, 423.68 26.25 M423.68 8.75 C424.22 15.36, 424.04 19.96, 423.68 26.25 M423.68 26.25 C423.03 33.13, 421.19 33.73, 414.93 35 M423.68 26.25 C422.09 31.32, 419.29 35.92, 414.93 35 M414.93 35 C306.59 32.96, 200.02 33.4, 8.75 35 M414.93 35 C260.54 33.38, 106.23 34.14, 8.75 35 M8.75 35 C1.61 33.52, 1.5 31.5, 0 26.25 M8.75 35 C4.59 35.59, -0.19 32.44, 0 26.25 M0 26.25 C0.7 22.73, 0.52 17.13, 0 8.75 M0 26.25 C-0.14 19.6, -0.8 13.08, 0 8.75 M0 8.75 C0.96 3.34, 3.8 0.39, 8.75 0 M0 8.75 C-0.14 1.69, 0.83 -0.36, 8.75 0" stroke="#1971c2" stroke-width="2" fill="none"></path></g><g transform="translate(1495.474743811702 22.894213414346837) rotate(0 181.91983032226562 12.5)"><text x="181.91983032226562" y="17.619999999999997" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1971c2" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">CORS(Cross-Origin Resource Sharing)</text></g><g transform="translate(1460.661807506392 73.07226171886066) rotate(0 403.5697937011719 275)"><text x="0" y="17.619999999999997" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">브라우저에는 SOP(Same Origin Policy) 라는 정책이 있다.</text><text x="0" y="42.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">Origin( 프로토콜 + IP + 포트 ) 이 동일한 서버에게서만 HTML, JS, CSS 등의 Web 자원들을</text><text x="0" y="67.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"> 받아들이겠다는 정책이다.</text><text x="0" y="92.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="0" y="117.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">즉, 자기자신과 동일한 서버에게서만 자원을 얻어내겠다는 말이다.</text><text x="0" y="142.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="0" y="167.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">이는 UI용 FrontEnd와 API용 BackEnd로 구성된 서비스에서 문제가 된다.</text><text x="0" y="192.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">(Frontend와 BackEnd 의 Origin이 서로 다르기에 CORS라는 명칭의 오류가 발생한다.)</text><text x="0" y="217.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="0" y="242.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">CORS는 사실 사전설정을 통해 서로다른 Origin이라고 할지라도 자원공유가 가능하도록 하는</text><text x="0" y="267.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">정책을 의미한다. 이 CORS 관련 설정을 판단하는 주체는 브라우저다.</text><text x="0" y="292.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="0" y="317.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">브라우저에서 서버의 접근가능 host 목록을 요청하고, 현재 Origin이 그 목록에 존재하는지</text><text x="0" y="342.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">판단하는 형식이다.</text><text x="0" y="367.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="0" y="392.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">이때 접근가능 host 목록을 요청하는 요청을 Preflight(예비 요청) 라고 부른다.</text><text x="0" y="417.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">이 요청은 HTTP의 OPTIONS Method를 이용해서 실제 요청이 전달되기 이전에 host 목록</text><text x="0" y="442.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">을 받아온다. 만약, host 목록에 없는 Origin이라면 본 요청이 이뤄지지 않는다.</text><text x="0" y="467.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">( 매 요청마다 이뤄지지는 않고, 캐시를 통해 네트워크 비용을 관리한다 )</text><text x="0" y="492.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="0" y="517.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">Preflight 요청없이 바로 본 요청을 전송하는 방법도 있는데, </text><text x="0" y="542.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">이 경우에는 서버측 자원보호를 위한 몇가지의 제약사항이 존재한다.</text></g><g stroke-linecap="round" transform="translate(3357.735135425488 30.02526036392885) rotate(0 475.1099495770182 371.9133572071735)"><path d="M32 0 C337.72 -0.48, 642.2 -0.8, 918.22 0 M32 0 C384.95 -2.1, 738.7 -2.03, 918.22 0 M918.22 0 C941.11 1.44, 951.5 11.73, 950.22 32 M918.22 0 C938.38 -1.92, 951.65 9.43, 950.22 32 M950.22 32 C948.38 179.83, 948.33 328.84, 950.22 711.83 M950.22 32 C948.55 241.91, 948.72 451.35, 950.22 711.83 M950.22 711.83 C949.82 734.34, 939.32 744.42, 918.22 743.83 M950.22 711.83 C951.4 732.01, 938.55 743.86, 918.22 743.83 M918.22 743.83 C617.1 742.71, 316.31 743.48, 32 743.83 M918.22 743.83 C653.12 744.6, 388.01 745.06, 32 743.83 M32 743.83 C10.94 742.81, 0.79 731.73, 0 711.83 M32 743.83 C8.73 742.36, 0.2 734.99, 0 711.83 M0 711.83 C-0.41 575.39, -0.09 439.12, 0 32 M0 711.83 C-1.69 538.64, -1.74 365.78, 0 32 M0 32 C0.61 11.29, 8.9 0.25, 32 0 M0 32 C-1.86 8.88, 11.15 -1.81, 32 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g stroke-linecap="round" transform="translate(3382.6539332851435 10) rotate(0 139.96678455416333 17.5)"><path d="M8.75 0 C107.36 4.05, 210.08 -1.18, 271.18 0 C274.86 0.91, 279.8 -0.46, 279.93 8.75 C281.69 15.92, 281.28 17.71, 279.93 26.25 C277.63 29.01, 280.23 38.28, 271.18 35 C198.03 37.56, 128.16 36.44, 8.75 35 C1.64 32.25, 1.86 28.58, 0 26.25 C1.86 17.09, -1.56 13.74, 0 8.75 C1.98 0.32, 4.05 -1.63, 8.75 0" stroke="none" stroke-width="0" fill="#ffc9c9"></path><path d="M8.75 0 C90.21 -0.66, 175.32 -0.86, 271.18 0 M8.75 0 C103.38 0.14, 197.84 0.59, 271.18 0 M271.18 0 C278.3 1.06, 278.91 1.25, 279.93 8.75 M271.18 0 C278.45 -1.24, 278.06 0.74, 279.93 8.75 M279.93 8.75 C281.58 12.19, 280.24 14.98, 279.93 26.25 M279.93 8.75 C280.83 15.02, 279.84 22.38, 279.93 26.25 M279.93 26.25 C279.7 32.68, 278.04 34, 271.18 35 M279.93 26.25 C278.93 32.11, 277.93 33.37, 271.18 35 M271.18 35 C196.67 33.68, 121.08 33.06, 8.75 35 M271.18 35 C186.62 35.12, 100.71 34.03, 8.75 35 M8.75 35 C3.7 33.57, -1.69 30.81, 0 26.25 M8.75 35 C3.12 36.83, -2.29 32.4, 0 26.25 M0 26.25 C0.64 18.72, -0.79 13.89, 0 8.75 M0 26.25 C-0.06 22.2, 0.26 18.45, 0 8.75 M0 8.75 C-1.77 3.16, 1.3 -1.56, 8.75 0 M0 8.75 C0.48 1.11, 2.12 0.08, 8.75 0" stroke="#e03131" stroke-width="2" fill="none"></path></g><g transform="translate(3398.8608377733885 15) rotate(0 123.75988006591791 12.5)"><text x="123.75988006591797" y="17.619999999999997" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#e03131" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">XSS(Cross-Site Scripting)</text></g><g stroke-linecap="round" transform="translate(2361.4454682308033 32.10177103052513) rotate(0 478.0547354777935 481.4246243212293)"><path d="M32 0 C270.73 -2.83, 510.79 -2.49, 924.11 0 M32 0 C215.11 1.57, 398.11 1.75, 924.11 0 M924.11 0 C944.28 0.51, 956.58 10.1, 956.11 32 M924.11 0 C943.88 -0.76, 957.08 9.31, 956.11 32 M956.11 32 C955.96 389.32, 956.82 746.22, 956.11 930.85 M956.11 32 C957.34 324.93, 957.16 617.57, 956.11 930.85 M956.11 930.85 C957.89 952.13, 945.37 961.83, 924.11 962.85 M956.11 930.85 C956.37 950.3, 944.75 965.02, 924.11 962.85 M924.11 962.85 C694.53 965.54, 464.1 965.58, 32 962.85 M924.11 962.85 C584.02 959.8, 243.52 959.57, 32 962.85 M32 962.85 C8.72 961.09, -1.15 953.64, 0 930.85 M32 962.85 C9.99 962.69, -2.07 950.93, 0 930.85 M0 930.85 C-1.32 733.38, -1.19 535.47, 0 32 M0 930.85 C-2.32 634.4, -2.07 338.65, 0 32 M0 32 C-0.98 10.74, 12.02 -0.07, 32 0 M0 32 C1.4 10.84, 12.29 -2.03, 32 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g stroke-linecap="round" transform="translate(2414.1012894406094 12.076510666596334) rotate(0 182.48443697235453 17.5)"><path d="M8.75 0 C129.78 -0.96, 248.86 0.04, 356.22 0 C365.06 3.38, 365.45 -0.65, 364.97 8.75 C365.18 15.49, 367.11 17.98, 364.97 26.25 C364.74 28.9, 364.81 38.02, 356.22 35 C263.45 33.1, 175.75 33.85, 8.75 35 C5.02 31.57, 0.78 28.94, 0 26.25 C1.24 17.74, 0.74 14.59, 0 8.75 C-0.4 5.84, 5.23 -2.86, 8.75 0" stroke="none" stroke-width="0" fill="#ffc9c9"></path><path d="M8.75 0 C142.65 0.42, 273.52 0.96, 356.22 0 M8.75 0 C99.19 -0.53, 190.21 -0.99, 356.22 0 M356.22 0 C362.52 -0.57, 363.61 2.26, 364.97 8.75 M356.22 0 C363.03 -1.36, 367.2 3.29, 364.97 8.75 M364.97 8.75 C365.07 16.23, 365.26 21.69, 364.97 26.25 M364.97 8.75 C365.61 13.56, 365.92 19.46, 364.97 26.25 M364.97 26.25 C364.89 31.07, 362.28 33.36, 356.22 35 M364.97 26.25 C364.27 34.26, 361.08 33.32, 356.22 35 M356.22 35 C228.33 36.61, 103.16 34.75, 8.75 35 M356.22 35 C282.75 35.4, 208.5 35.04, 8.75 35 M8.75 35 C1.77 36.46, -0.59 31.95, 0 26.25 M8.75 35 C0.85 33.75, -1.85 32.71, 0 26.25 M0 26.25 C-0.39 18.58, 0.59 15.2, 0 8.75 M0 26.25 C0.39 19.79, -0.39 12.56, 0 8.75 M0 8.75 C1.35 2.85, 4.14 0.15, 8.75 0 M0 8.75 C1.63 0.89, 1.9 1.77, 8.75 0" stroke="#e03131" stroke-width="2" fill="none"></path></g><g transform="translate(2426.93588510437 17.076510666596334) rotate(0 169.64984130859375 12.5)"><text x="169.64984130859375" y="17.619999999999997" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#e03131" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">CSRF(Cross-Site Request Forgery)</text></g><g stroke-linecap="round" transform="translate(1608.4366157973343 320.845399673458) rotate(0 224.73616278186924 13.450699769696028)"><path d="M6.73 0 C173.76 -0.06, 340.2 0.09, 442.75 0 M442.75 0 C447.57 -0.95, 449.05 3.67, 449.47 6.73 M449.47 6.73 C448.28 11.7, 449.84 17.64, 449.47 20.18 M449.47 20.18 C448.63 25.68, 447.81 26.13, 442.75 26.9 M442.75 26.9 C320.45 25.39, 197.32 25.19, 6.73 26.9 M6.73 26.9 C1.52 25.59, -0.18 25.01, 0 20.18 M0 20.18 C-0.03 16.36, -0.2 13.2, 0 6.73 M0 6.73 C0.49 1.55, 1.46 1.83, 6.73 0" stroke="#2f9e44" stroke-width="2.5" fill="none" stroke-dasharray="8 10"></path></g><g stroke-linecap="round" transform="translate(1506.2164350973108 448.64485807955225) rotate(0 322.9316933667401 12.147900690911854)"><path d="M6.07 0 C142.71 -0.89, 278.66 -0.02, 639.79 0 M639.79 0 C645.27 0.89, 644.18 0.63, 645.86 6.07 M645.86 6.07 C646.92 11.33, 647.05 14.39, 645.86 18.22 M645.86 18.22 C647.35 20.38, 643.76 23.36, 639.79 24.3 M639.79 24.3 C489.63 23.2, 337.64 21.88, 6.07 24.3 M6.07 24.3 C1.69 24.95, -0.96 21.63, 0 18.22 M0 18.22 C0.34 14.91, -0.24 10.42, 0 6.07 M0 6.07 C0.5 0.2, 2.82 0.35, 6.07 0" stroke="#2f9e44" stroke-width="2.5" fill="none" stroke-dasharray="8 10"></path></g><g stroke-linecap="round"><g transform="translate(1450.5385569306313 574.1731652189746) rotate(0 5.684341886080802e-14 20.752663680307762)"><path d="M0.35 -0.19 C0.3 6.62, 0.14 33.97, 0.16 41 M-0.13 -0.76 C-0.28 6.08, -0.27 34.44, -0.19 41.44" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round"><g transform="translate(1451.5508819882075 589.3580410826146) rotate(0 -37.4560271303115 0.5061625287879679)"><path d="M-0.42 -0.22 C-12.72 -0.08, -61.74 1.22, -74.18 1.46 M1.56 -1.38 C-10.8 -1.67, -61.83 -1.1, -74.74 -0.43" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1451.5508819882075 589.3580410826146) rotate(0 -37.4560271303115 0.5061625287879679)"><path d="M-51.49 -9.63 C-58.07 -6.01, -63.21 -4.99, -74.74 -0.43 M-51.49 -9.63 C-59.29 -7.68, -66.82 -3.44, -74.74 -0.43" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1451.5508819882075 589.3580410826146) rotate(0 -37.4560271303115 0.5061625287879679)"><path d="M-51.02 7.46 C-57.81 6.48, -63.08 2.9, -74.74 -0.43 M-51.02 7.46 C-59.03 4.02, -66.7 2.86, -74.74 -0.43" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g transform="translate(10 545.8280636068471) rotate(0 668.589599609375 37.5)"><text x="0" y="17.619999999999997" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">1. 요청의 메소드는 GET, HEAD, POST 중 하나여야 한다.</text><text x="0" y="42.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">2. Accept, Accept-Language, Content-Language, Content-Type, DPR, Downlink, Save-Data, Viewport-Width, Width 헤더일 경우에만 적용된다.</text><text x="0" y="67.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">3. Content-Type 헤더가 application/x-www-form-urlencoded, multipart/form-data, text/plain중 하나여야한다. 아닐 경우 예비 요청으로 동작된다.</text></g><g stroke-linecap="round"><g transform="translate(1456.6125072760885 637.9496438462616) rotate(0 397.3375850985751 -0.5061625287880247)"><path d="M0.71 -0.65 C132.99 -0.56, 662.16 0.3, 794.61 0.06" stroke="#2f9e44" stroke-width="2.5" fill="none" stroke-dasharray="8 10"></path></g></g><mask></mask><g transform="translate(1457.6125072760885 659.3193955735411) rotate(0 388.5598449707031 87.5)"><text x="0" y="17.619999999999997" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">Credential(자격인증)이 필요한 경우에는 클라이언트와 서버 양측 모두 설정이 필요하다.</text><text x="0" y="42.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="0" y="67.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">이 경우, 클라이언트에서는 `credentials` 옵션으로 자신이 자격인증을 포함할 대상을 선택</text><text x="0" y="92.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">한다. ( same-origin / 모든 대상 / 모든 대상에게 X )</text><text x="0" y="117.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="0" y="142.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">자격인증 정보를 받아들일 서버에서는 Credentials 항목을 활성화 해야하며,</text><text x="0" y="167.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">받아들일 [Origin, HTTP Method, 헤더 종류]를 설정해야한다.</text></g><g transform="translate(2402.259686685397 71.16830869127148) rotate(0 430.7298583984375 450)"><text x="0" y="17.619999999999997" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">CSRF는 보안공격 방식 중 하나로, 브라우저에 보관된 쿠키정보가 요청 시에 자동으로 포함되는 점을</text><text x="0" y="42.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">이용한 공격방식이다.</text><text x="0" y="67.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="0" y="92.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">이 공격에 관여하는 노드로는 [ 공격자, 클라이언트, 서버 ] 가 존재한다.</text><text x="0" y="117.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="0" y="142.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">시나리오 중 하나를 예시로 든다면,</text><text x="0" y="167.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">1. 클라이언트가 대상서버로 로그인( 브라우저에 쿠키 저장 )</text><text x="0" y="192.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">2. 공격자가 자신의 사이트로 클라이언트의 접근을 유도</text><text x="0" y="217.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">3. 공격자가 자신의 사이트에서 대상 서버로 요청( 이미 대상서버와의 쿠키정보가 있음 )</text><text x="0" y="242.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">4. 유효한 쿠키정보가 포함된 요청이므로, 대상서버가 정상응답</text><text x="0" y="267.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="0" y="292.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">이런 형식으로 공격이 이뤄진다.</text><text x="0" y="317.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="0" y="342.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">CSRF의 보안방법으로는 여러가지가 존재한다.</text><text x="0" y="367.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">우선, 공통적으로 POST, PUT, DELETE 같은 상태를 변화시키는 요청들과 그렇지 않은 요청들을 </text><text x="0" y="392.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">구분하여 정확하게 구현해야한다. 즉, GET 같은 요청은 정말 Read-Only로 동작하게 해야한다.</text><text x="0" y="417.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="0" y="442.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">1. CSRF토큰을 요청에 포함시키는 방법</text><text x="0" y="467.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">서버에서 요청들에 포함된 CSRF 토큰이 세션에 저장된 CSRF 토큰과 동일한지 검증하는 방법이다.</text><text x="0" y="492.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">즉, 모든 요청에 CSRF토큰이 포함되어야 하여 공격을 방어하는 방법이다.</text><text x="0" y="517.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="0" y="542.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">이 CSRF토큰은 브라우저에 의해 요청에 포함되어서는 안되며, 예측할 수 없는 안전한 값이어야 한다.</text><text x="0" y="567.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">또한, 이 방법은 HTML문서를 서버에서 생성해내야 한다.</text><text x="0" y="592.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="0" y="617.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">2. 쿠키에 SameSite 속성을 지정하는 방법</text><text x="0" y="642.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">서버에서 세션정보가 포함된 쿠키를 내려줄 때, Same-Site라는 속성을 추가하여 보내는 방법이다.</text><text x="0" y="667.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">이를통해, 이후 요청에서 동일한 출처인 경우에만 쿠키가 포함되도록 제한할 수 있다.</text><text x="0" y="692.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="0" y="717.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">인증정보를 얻어낸 출처가 아니라면 쿠키 정보가 포함되지 않도록 하는 설정이다</text><text x="0" y="742.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">설정에 따라 동일출처와 GET, HEAD, OPTION 같은 read-only 요청에 쿠키가 포함되도록 하거나,</text><text x="0" y="767.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">아예 동일 출처에서의 모든 요청에 쿠키가 포함되도록 할 수 있다.</text><text x="0" y="792.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="0" y="817.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="0" y="842.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">설명에서 볼 수 있듯이 Restful API를 지향한다면 서버에서 인증정보를 관리하지 않기때문에</text><text x="0" y="867.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">CSRF 공격위험이 줄어든다. 즉, JWT같은 토큰 인증방식을 선택한다면 서버에서 세션과 쿠키를</text><text x="0" y="892.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">관리하지 않으므로, 프론트엔트 측에서 토큰을 쿠키에 관리하지 않는이상 안전하다.</text></g><g stroke-linecap="round"><g transform="translate(2402.220695198129 381.2509661554186) rotate(0 436.0060773362436 -1.337441955019159)"><path d="M-0.49 0.56 C144.72 0.29, 725.81 -1.05, 871.1 -1.7" stroke="#2f9e44" stroke-width="2.5" fill="none" stroke-dasharray="8 10"></path></g></g><mask></mask><g stroke-linecap="round" transform="translate(2379.0103340509336 486.4630666169247) rotate(0 460.0075288268673 79.77710526325059)"><path d="M32 0 C260.76 2.58, 489.05 2.54, 888.02 0 M888.02 0 C910.86 -0.25, 918.76 10.98, 920.02 32 M920.02 32 C919.15 53.69, 920.79 75.33, 920.02 127.55 M920.02 127.55 C919.82 150.33, 907.68 160.18, 888.02 159.55 M888.02 159.55 C665.76 162.17, 442.47 161.96, 32 159.55 M32 159.55 C9.08 158.51, -1.29 147.34, 0 127.55 M0 127.55 C0.15 93.4, 0.81 62.33, 0 32 M0 32 C-0.56 11.91, 8.78 -0.01, 32 0" stroke="#1971c2" stroke-width="2.5" fill="none" stroke-dasharray="8 10"></path></g><g stroke-linecap="round" transform="translate(2379.326770188305 664.5940075340889) rotate(0 460.0075288268675 95.40419279136617)"><path d="M32 0 C364.64 -2.76, 695.81 -2.91, 888.02 0 M888.02 0 C910.6 1.55, 919.28 10.01, 920.02 32 M920.02 32 C919.65 80.2, 922.33 130.22, 920.02 158.81 M920.02 158.81 C921.19 178.4, 908.76 190.06, 888.02 190.81 M888.02 190.81 C602.63 189.62, 315.9 189.06, 32 190.81 M32 190.81 C10.13 192.07, 0.12 179.8, 0 158.81 M0 158.81 C-0.57 132.72, 0.29 102.31, 0 32 M0 32 C-0.7 12.32, 11.9 1.43, 32 0" stroke="#1971c2" stroke-width="2.5" fill="none" stroke-dasharray="8 10"></path></g><g stroke-linecap="round"><g transform="translate(2402.8871109925785 874.4023453409203) rotate(0 436.0060773362436 -1.337441955019159)"><path d="M0.34 0.89 C146 0.5, 727.92 -1.61, 873.17 -2.05" stroke="#2f9e44" stroke-width="2.5" fill="none" stroke-dasharray="8 10"></path></g></g><mask></mask><g transform="translate(3384.485295432116 65.1302988248799) rotate(0 447.7897644042969 237.5)"><text x="0" y="17.619999999999997" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">XSS는 사이트 내에 악의적인 스크립트를 심어놓고, 랜더링하며 동작하게 하는 공격방법이다.</text><text x="0" y="42.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">악의적인 스크립트를 서버의 저장소에 저장시켜놓고, 일반 사용자가 해당 스크립트를 로드하는 과정에서 </text><text x="0" y="67.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">스크립트가 동작하게 한다.</text><text x="0" y="92.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="0" y="117.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">주요 공격방법으로는 크게 3가지 유형이 존재한다.</text><text x="0" y="142.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="0" y="167.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">1. 서버의 저장소에 스크립트를 저장하는 방법( Stored XSS )</text><text x="0" y="192.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">2. 서버에서 요청이 거부되었을 때, 반환된 페이지에서 스크립트가 동작하게 하는 방법(Reflected XSS )</text><text x="0" y="217.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">3. 브라우저의 DOM구조를 이용해 URL에 스크립트를 심어놓고 동작시키는 방법( DOM based XSS )</text><text x="0" y="242.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="0" y="267.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="0" y="292.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">XSS의 방어방법은 아래와 같다.</text><text x="0" y="317.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="0" y="342.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">1. 서버에서 스크립트 관련 문자를 필터링하여 거부하기</text><text x="0" y="367.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">2. 사용자 입력을 출력할 때, 특수문자를 이스케이프 처리</text><text x="0" y="392.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">( ex : &lt; 같은 문자를 동일한 표현의 안전한 &amp;lt; 로 변환 ) </text><text x="0" y="417.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">3. CSP를 활용하여 특정한 출처에서만 JavaSciprt 파일을 실행하도록 제한</text><text x="0" y="442.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">4. httponly 옵션으로 활용해 JavaScript에서 쿠키에 접근할 수 없도록 제한</text><text x="0" y="467.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">5. secure 옵션으로 활용해 HTTPS 요청에서만 쿠키가 전송되도록 제한</text></g><g stroke-linecap="round" transform="translate(3370.945050747585 201.76367700514498) rotate(0 460.3683192740459 50.468184733251036)"><path d="M25.23 0 C230.91 0.48, 438.44 0.63, 895.5 0 M895.5 0 C910.56 0.44, 919.82 9.6, 920.74 25.23 M920.74 25.23 C919.39 39.99, 922.03 58.3, 920.74 75.7 M920.74 75.7 C920.28 92.78, 910.53 102.25, 895.5 100.94 M895.5 100.94 C631.18 97.41, 367.37 97.2, 25.23 100.94 M25.23 100.94 C8.17 102.13, -1.68 92.93, 0 75.7 M0 75.7 C1.38 62.76, -1.33 48.42, 0 25.23 M0 25.23 C0.7 6.78, 9.7 0.05, 25.23 0" stroke="#e03131" stroke-width="2.5" fill="none" stroke-dasharray="8 10"></path></g><g stroke-linecap="round"><g transform="translate(3398.4698086628146 561.7688756988911) rotate(0 436.00607733624366 -1.337441955019159)"><path d="M1.01 -0.49 C146.17 -1.11, 725.85 -3.48, 871.08 -3.76" stroke="#2f9e44" stroke-width="2.5" fill="none" stroke-dasharray="8 10"></path></g></g><mask></mask><g transform="translate(3391.87088344186 584.5833221768788) rotate(0 133.7698974609375 12.5)"><text x="0" y="17.619999999999997" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1971c2" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">CSP(Content Secure Policy)</text></g><g transform="translate(3391.87088344186 625.2040562304711) rotate(0 418.7798767089843 62.5)"><text x="0" y="17.619999999999997" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">CSP는 XSS 공격 완화를 위한 보안정책으로, </text><text x="0" y="42.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">Stored XSS 사례처럼 서버로부터 받은 정보를 브라우저가 신뢰한다는 점을 악용하는 점을 이용해</text><text x="0" y="67.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">올바른 스크립트를 지정하여, 해당 스크립트들만 동작하게 하는 정책이다.</text><text x="0" y="92.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="0" y="117.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">이를 적용하면, 브라우저에서 유효하다고 간주하는 서버로부터의 스크립트만 실행된다.</text></g></svg></div></div></div><div class="sidebar-right sidebar"><div class="sidebar-handle"></div><div class="sidebar-topbar"><div class="topbar-content"></div><div class="clickable-icon sidebar-collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" class="svg-icon"><path d="M21 3H3C1.89543 3 1 3.89543 1 5V19C1 20.1046 1.89543 21 3 21H21C22.1046 21 23 20.1046 23 19V5C23 3.89543 22.1046 3 21 3Z"></path><path d="M10 4V20"></path><path d="M4 7H7"></path><path d="M4 10H7"></path><path d="M4 13H7"></path></svg></div></div><div class="sidebar-content"></div><script defer="">let rs = document.querySelector(".sidebar-right"); rs.classList.add("is-collapsed"); if (window.innerWidth > 768) rs.classList.remove("is-collapsed"); rs.style.setProperty("--sidebar-width", localStorage.getItem("sidebar-right-width"));</script></div></div></body></html>