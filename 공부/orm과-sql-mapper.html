<!DOCTYPE html> <html><head>
		<title>ORM과 SQL Mapper</title>
		<base href="../">
		<meta id="root-path" root-path="../">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=1.0, maximum-scale=5.0">
		<meta charset="UTF-8">
		<meta name="description" content="Obsidian Vault - ORM과 SQL Mapper">
		<meta property="og:title" content="ORM과 SQL Mapper">
		<meta property="og:description" content="Obsidian Vault - ORM과 SQL Mapper">
		<meta property="og:type" content="website">
		<meta property="og:url" content="공부/orm과-sql-mapper.html">
		<meta property="og:image" content="undefined">
		<meta property="og:site_name" content="Obsidian Vault">
		<link rel="alternate" type="application/rss+xml" title="RSS Feed" href="lib/rss.xml"><script async="" id="webpage-script" src="lib/scripts/webpage.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script async="" id="minisearch-script" src="lib/scripts/minisearch.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><link rel="icon" href="lib/media/favicon.png"><style>body{--line-width:40em;--line-width-adaptive:40em;--file-line-width:40em;--sidebar-width:min(20em, 80vw);--collapse-arrow-size:11px;--tree-horizontal-spacing:0.6em;--tree-vertical-spacing:0.6em;--sidebar-margin:12px}.sidebar{height:100%;min-width:calc(var(--sidebar-width) + var(--divider-width-hover));max-width:calc(var(--sidebar-width) + var(--divider-width-hover));font-size:14px;z-index:10;position:relative;overflow:hidden;transition:min-width ease-in-out,max-width ease-in-out;transition-duration:.2s;contain:size}.sidebar-left{left:0}.sidebar-right{right:0}.sidebar.is-collapsed{min-width:0;max-width:0}body.floating-sidebars .sidebar{position:absolute}.sidebar-content{height:100%;min-width:calc(var(--sidebar-width) - var(--divider-width-hover));top:0;padding:var(--sidebar-margin);padding-top:4em;line-height:var(--line-height-tight);background-color:var(--background-secondary);transition:background-color,border-right,border-left,box-shadow;transition-duration:var(--color-fade-speed);transition-timing-function:ease-in-out;position:absolute;display:flex;flex-direction:column}.sidebar:not(.is-collapsed) .sidebar-content{min-width:calc(max(100%,var(--sidebar-width)) - 3px);max-width:calc(max(100%,var(--sidebar-width)) - 3px)}.sidebar-left .sidebar-content{left:0;border-top-right-radius:var(--radius-l);border-bottom-right-radius:var(--radius-l)}.sidebar-right .sidebar-content{right:0;border-top-left-radius:var(--radius-l);border-bottom-left-radius:var(--radius-l)}.sidebar:has(.sidebar-content:empty):has(.topbar-content:empty){display:none}.sidebar-topbar{height:2em;width:var(--sidebar-width);top:var(--sidebar-margin);padding-inline:var(--sidebar-margin);z-index:1;position:fixed;display:flex;align-items:center;transition:width ease-in-out;transition-duration:inherit}.sidebar.is-collapsed .sidebar-topbar{width:calc(2.3em + var(--sidebar-margin) * 2)}.sidebar .sidebar-topbar.is-collapsed{width:0}.sidebar-left .sidebar-topbar{left:0}.sidebar-right .sidebar-topbar{right:0}.topbar-content{overflow:hidden;overflow:clip;width:100%;height:100%;display:flex;align-items:center;transition:inherit}.sidebar.is-collapsed .topbar-content{width:0;transition:inherit}.clickable-icon.sidebar-collapse-icon{background-color:transparent;color:var(--icon-color-focused);padding:0!important;margin:0!important;height:100%!important;width:2.3em!important;margin-inline:0.14em!important;position:absolute}.sidebar-left .clickable-icon.sidebar-collapse-icon{transform:rotateY(180deg);right:var(--sidebar-margin)}.sidebar-right .clickable-icon.sidebar-collapse-icon{transform:rotateY(180deg);left:var(--sidebar-margin)}.clickable-icon.sidebar-collapse-icon svg.svg-icon{width:100%;height:100%}.sidebar-section-header{margin:0 0 1em 0;text-transform:uppercase;letter-spacing:.06em;font-weight:600}body{transition:background-color var(--color-fade-speed) ease-in-out}.webpage-container{display:flex;flex-direction:row;height:100%;width:100%;align-items:stretch;justify-content:center}.document-container{opacity:1;flex-basis:100%;max-width:100%;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;transition:opacity .2s ease-in-out;contain:inline-size}.hide{opacity:0;transition:opacity .2s ease-in-out}.document-container>.markdown-preview-view{margin:var(--sidebar-margin);margin-bottom:0;width:100%;width:-webkit-fill-available;width:-moz-available;width:fill-available;background-color:var(--background-primary);transition:background-color var(--color-fade-speed) ease-in-out;border-top-right-radius:var(--window-radius,var(--radius-m));border-top-left-radius:var(--window-radius,var(--radius-m));overflow-x:hidden!important;overflow-y:auto!important;display:flex!important;flex-direction:column!important;align-items:center!important;contain:inline-size}.document-container>.markdown-preview-view>.markdown-preview-sizer{padding-bottom:80vh!important;width:100%!important;max-width:var(--line-width)!important;flex-basis:var(--line-width)!important;transition:background-color var(--color-fade-speed) ease-in-out;contain:inline-size}.markdown-rendered img:not([width]),.view-content img:not([width]){max-width:100%;outline:0}.document-container>.view-content.embed{display:flex;padding:1em;height:100%;width:100%;align-items:center;justify-content:center}.document-container>.view-content.embed>*{max-width:100%;max-height:100%;object-fit:contain}:has(> :is(.math,table)){overflow-x:auto!important}.document-container>.view-content{overflow-x:auto;contain:content;padding:0;margin:0;height:100%}.scroll-highlight{position:absolute;width:100%;height:100%;pointer-events:none;z-index:1000;background-color:hsla(var(--color-accent-hsl),.25);opacity:0;padding:1em;inset:50%;translate:-50% -50%;border-radius:var(--radius-s)}</style><script defer="">async function loadIncludes(){if("file:"!=location.protocol){let e=document.querySelectorAll("include");for(let t=0;t<e.length;t++){let o=e[t],l=o.getAttribute("src");try{const e=await fetch(l);if(!e.ok){console.log("Could not include file: "+l),o?.remove();continue}let t=await e.text(),n=document.createRange().createContextualFragment(t),i=Array.from(n.children);for(let e of i)e.classList.add("hide"),e.style.transition="opacity 0.5s ease-in-out",setTimeout((()=>{e.classList.remove("hide")}),10);o.before(n),o.remove(),console.log("Included file: "+l)}catch(e){o?.remove(),console.log("Could not include file: "+l,e);continue}}}else{if(document.querySelectorAll("include").length>0){var e=document.createElement("div");e.id="error",e.textContent="Web server exports must be hosted on an http / web server to be viewed correctly.",e.style.position="fixed",e.style.top="50%",e.style.left="50%",e.style.transform="translate(-50%, -50%)",e.style.fontSize="1.5em",e.style.fontWeight="bold",e.style.textAlign="center",document.body.appendChild(e),document.querySelector(".document-container")?.classList.remove("hide")}}}document.addEventListener("DOMContentLoaded",(()=>{loadIncludes()}));let isFileProtocol="file:"==location.protocol;function waitLoadScripts(e,t){let o=e.map((e=>document.getElementById(e+"-script"))),l=0;!function e(){let n=o[l];l++,n&&"true"!=n.getAttribute("loaded")||l<o.length&&e(),l<o.length?n.addEventListener("load",e):t()}()}</script><link rel="stylesheet" href="lib/styles/obsidian.css"><link rel="preload" href="lib/styles/other-plugins.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="lib/styles/other-plugins.css"></noscript><link rel="stylesheet" href="lib/styles/theme.css"><link rel="preload" href="lib/styles/global-variable-styles.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="lib/styles/global-variable-styles.css"></noscript><link rel="preload" href="lib/styles/main-styles.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="lib/styles/main-styles.css"></noscript><link rel="preload" href="lib/styles/snippets.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="lib/styles/snippets.css"></noscript></head><body class="publish css-settings-manager theme-dark show-inline-title show-ribbon"><script defer="">let theme=localStorage.getItem("theme")||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");"dark"==theme?(document.body.classList.add("theme-dark"),document.body.classList.remove("theme-light")):(document.body.classList.add("theme-light"),document.body.classList.remove("theme-dark")),window.innerWidth<480?document.body.classList.add("is-phone"):window.innerWidth<768?document.body.classList.add("is-tablet"):window.innerWidth<1024?document.body.classList.add("is-small-screen"):document.body.classList.add("is-large-screen")</script><div class="webpage-container workspace"><div class="sidebar-left sidebar"><div class="sidebar-handle"></div><div class="sidebar-topbar"><div class="topbar-content"><label class="theme-toggle-container" for="theme_toggle"><input class="theme-toggle-input" type="checkbox" id="theme_toggle"><div class="toggle-background"></div></label></div><div class="clickable-icon sidebar-collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" class="svg-icon"><path d="M21 3H3C1.89543 3 1 3.89543 1 5V19C1 20.1046 1.89543 21 3 21H21C22.1046 21 23 20.1046 23 19V5C23 3.89543 22.1046 3 21 3Z"></path><path d="M10 4V20"></path><path d="M4 7H7"></path><path d="M4 10H7"></path><path d="M4 13H7"></path></svg></div></div><div class="sidebar-content"><div class="search-input-container"><input enterkeyhint="search" type="search" spellcheck="false" placeholder="Search..."><div class="search-input-clear-button" aria-label="Clear search"></div></div><include src="lib/html/file-tree.html"></include></div><script defer="">let ls = document.querySelector(".sidebar-left"); ls.classList.add("is-collapsed"); if (window.innerWidth > 768) ls.classList.remove("is-collapsed"); ls.style.setProperty("--sidebar-width", localStorage.getItem("sidebar-left-width"));</script></div><div class="document-container markdown-reading-view hide"><div class="view-content"><style id="MJX-CHTML-styles"></style><div class="excalidraw-plugin"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 3956.611697349356 2998.2197588152585" width="3956.611697349356" height="2998.2197588152585" class="excalidraw-svg dark"><!-- svg-source:excalidraw --><metadata></metadata><defs><style class="style-fonts">
      </style></defs><rect x="0" y="0" width="3956.611697349356" height="2998.2197588152585" fill="#ffffff"></rect><g stroke-linecap="round" transform="translate(1299.130331262632 32.499999468928934) rotate(0 475.80212808259546 485.8131769215357)"><path d="M32 0 C261.69 -0.09, 490.31 0.1, 919.6 0 M32 0 C385.66 0.43, 738.83 0.33, 919.6 0 M919.6 0 C941.22 0.41, 949.75 9.27, 951.6 32 M919.6 0 C942.47 -0.28, 950.46 9.53, 951.6 32 M951.6 32 C951.23 232.89, 950.33 435, 951.6 939.63 M951.6 32 C953.96 235.16, 953.57 438.42, 951.6 939.63 M951.6 939.63 C953.42 959.9, 941.94 971.94, 919.6 971.63 M951.6 939.63 C949.34 959.8, 942.4 971.16, 919.6 971.63 M919.6 971.63 C707 970.71, 494.1 970.4, 32 971.63 M919.6 971.63 C583.32 972.8, 247.28 972.45, 32 971.63 M32 971.63 C9.15 969.93, 0.77 961.26, 0 939.63 M32 971.63 C12.94 970.39, -0.52 961.44, 0 939.63 M0 939.63 C1.15 654.74, -0.29 371.12, 0 32 M0 939.63 C3.12 630.45, 3.07 321.04, 0 32 M0 32 C-1.7 12.33, 9.47 -0.47, 32 0 M0 32 C0.58 10.35, 10.43 -2.02, 32 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g stroke-linecap="round" transform="translate(1598.2445975431817 10) rotate(0 176.6878622442172 22.5)"><path d="M11.25 0 C85.56 -5.11, 157.24 -2.46, 342.13 0 C353.07 0.01, 354.05 4.3, 353.38 11.25 C356.31 15.05, 354.04 24.62, 353.38 33.75 C350.49 43.41, 349.23 48.54, 342.13 45 C242.57 44.41, 139.21 44.59, 11.25 45 C0.87 44.09, -2.74 41.58, 0 33.75 C-1 26.39, 1.85 18.65, 0 11.25 C-1.24 2.28, 2.76 -0.55, 11.25 0" stroke="none" stroke-width="0" fill="#a5d8ff"></path><path d="M11.25 0 C101.37 1.26, 192.82 1.22, 342.13 0 M11.25 0 C82.8 2.22, 154.92 2.28, 342.13 0 M342.13 0 C350.31 -1.3, 352.7 3.36, 353.38 11.25 M342.13 0 C348.49 0.3, 352.02 4.6, 353.38 11.25 M353.38 11.25 C354.34 19.77, 351.93 24.05, 353.38 33.75 M353.38 11.25 C353.54 19.2, 353.28 27.63, 353.38 33.75 M353.38 33.75 C352.86 42.39, 350.19 43.75, 342.13 45 M353.38 33.75 C355.31 40.58, 348.34 45.66, 342.13 45 M342.13 45 C259.12 46.91, 175.49 46.79, 11.25 45 M342.13 45 C275.35 43.34, 208.89 44.19, 11.25 45 M11.25 45 C3.49 45.92, 0.24 42.01, 0 33.75 M11.25 45 C2.89 43.78, 2.23 41.32, 0 33.75 M0 33.75 C1.03 24.97, 0.26 19.74, 0 11.25 M0 33.75 C-0.1 27.32, 0.43 22.69, 0 11.25 M0 11.25 C1.1 4.88, 3.08 -0.77, 11.25 0 M0 11.25 C-0.67 3.17, 3.47 -0.43, 11.25 0" stroke="#1971c2" stroke-width="2" fill="none"></path></g><g transform="translate(1648.582491830856 15) rotate(0 126.34996795654297 17.5)"><text x="126.34996795654297" y="24.668" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="28px" fill="#1971c2" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">Java와 데이터베이스</text></g><g transform="translate(1344.8853356742648 76.66368021542718) rotate(0 426.0898742675781 300)"><text x="0" y="17.619999999999997" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">서비스 운영에 있어서 데이터베이스는 필수적인 요소라고 볼 수 있다.</text><text x="0" y="42.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">비즈니스 로직을 처리하는 과정에서 데이터를 저장하고 조회하는 등의 작업이 필요하기 때문이다.</text><text x="0" y="67.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="0" y="92.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">비즈니스 로직은 프로그래밍 언어로 작성되고, 여기서는 Java를 가정하고 말할 생각이다.</text><text x="0" y="117.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">백엔드 서버와 데이터베이스를 구성한 상황에서 서버는 데이터베이스 접근하기 위한 인터페이스가 </text><text x="0" y="142.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">필요하다. Java에서는 이를 위한 표준 인터페이스로 JDBC를 제공한다.</text><text x="0" y="167.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="0" y="192.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">JDBC는 Java를 이용해 DB에 접근하기 위한 과정을 추상화하여, 서로다른 서비스라도 동일한</text><text x="0" y="217.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">방법의 데이터베이스 접근을 제공하는 것을 목적으로 한다.</text><text x="0" y="242.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="0" y="267.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">JDBC의 동작흐름은 크게 3단계로 나뉜다.</text><text x="0" y="292.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">1. Driver를 이용해 DB와 연결 및 Connection 객체 생성</text><text x="0" y="317.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">2. Connection 객체에 Statement로 SQL 쿼리 전달</text><text x="0" y="342.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">3. SQL 쿼리의 결과를 ResultSet으로 받음</text><text x="0" y="367.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="0" y="392.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">데이터베이스와 연결을 수립하고, 이를 유지하기 위해서는 지속적인 네트워크 및 메모리가 소모된다.</text><text x="0" y="417.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">이 비용을 줄이기 위해서는 생성된 객체들을 반환하고 연결을 끊어야할 필요가 있다.</text><text x="0" y="442.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="0" y="467.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">하지만, 서비스가 동작함에 있어서 연결은 지속적으로 생성될 것이기 때문에 매번 연결수립과 해제를 </text><text x="0" y="492.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">반복하는 것은 비용적으로 좋지 못하다. </text><text x="0" y="517.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="0" y="542.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">이를 해결하기 위한 방법이 DBCP 다.</text><text x="0" y="567.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">DBCP는 서비스가 실행될 때, DB와 특정 개수의 연결을 만들어놓고 이를 재사용하며 자원을 아끼기</text><text x="0" y="592.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">위한 기술이다.</text></g><g stroke-linecap="round" transform="translate(1331.400041556618 314.92838609778) rotate(0 258.75 61.25)"><path d="M30.63 0 C191.64 -2.33, 353.12 -2.03, 486.88 0 M486.88 0 C505.54 -1.78, 516.1 12.1, 517.5 30.63 M517.5 30.63 C515.97 51.38, 518.63 73.54, 517.5 91.88 M517.5 91.88 C516.4 111.09, 508.45 122.22, 486.88 122.5 M486.88 122.5 C335.24 121.7, 181.58 121, 30.63 122.5 M30.63 122.5 C10.93 124.18, 0.02 113.59, 0 91.88 M0 91.88 C1.27 74.96, -0.79 59.73, 0 30.63 M0 30.63 C-0.82 8.67, 11.01 1.2, 30.63 0" stroke="#2f9e44" stroke-width="2.5" fill="none" stroke-dasharray="8 10"></path></g><g stroke-linecap="round"><g transform="translate(1344.1777739290828 690.4172989790484) rotate(0 428.4140811626543 -2.145646483285418)"><path d="M0.36 -0.81 C143.02 -1.85, 713.7 -4.64, 856.46 -5.23" stroke="#1971c2" stroke-width="2.5" fill="none" stroke-dasharray="8 10"></path></g></g><mask></mask><g transform="translate(1344.0130736342458 712.073180608327) rotate(0 410.78985595703125 137.50000000000003)"><text x="0" y="17.619999999999997" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">여기까지가 기초적인 배경지식이고, 이제 ORM과 SQL Mapper에 대해 알아보자</text><text x="0" y="42.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">앞선 방법을 통해 이미 추상화된 방법으로 Java에서 데이터베이스에 대한 접근이 가능해졌다.</text><text x="0" y="67.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="0" y="92.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">하지만, Java에서 표준으로 제공하는 API는 작성해야 하는 코드의 개수가 많았다.</text><text x="0" y="117.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">또한, 관리를 위해서는 개발자가 SQL 문법에 대한 이해도가 높아야한다. </text><text x="0" y="142.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="0" y="167.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">즉, 유지보수가 쉽지않다.</text><text x="0" y="192.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="0" y="217.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">이러한 단점을 개선하기 위해 등장한 기술이 ORM과 SQL Mapper 다.</text><text x="0" y="242.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">이 두 기술은 새로운 API를 만들어내는 것이 아니라 개발자가 비즈니스 로직에 집중할 수 있도록</text><text x="0" y="267.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">보다 추상화되고 간편한 DB 접근방식을 제공한다. 즉, 내부적으로는 JDBC를 이용하고 있다.</text></g><g stroke-linecap="round" transform="translate(1717.0784279216687 911.0051105653919) rotate(0 98.62905611993295 12.763760203756021)"><path d="M6.38 0 C48.37 2.74, 91.98 0.69, 190.88 0 M190.88 0 C196.12 -0.47, 198.92 1.12, 197.26 6.38 M197.26 6.38 C197.11 9.75, 196.83 14.33, 197.26 19.15 M197.26 19.15 C197.96 22.17, 196.65 24.62, 190.88 25.53 M190.88 25.53 C137.65 22.86, 82.75 24.42, 6.38 25.53 M6.38 25.53 C1.91 24.29, 1.69 21.76, 0 19.15 M0 19.15 C1.13 14.66, 0.56 12.02, 0 6.38 M0 6.38 C1.36 2.38, 1.51 1.08, 6.38 0" stroke="#1971c2" stroke-width="2.5" fill="none" stroke-dasharray="8 10"></path></g><g stroke-linecap="round" transform="translate(799.2202710463695 1125.9424337030869) rotate(0 347.4129532831806 242.54608753000923)"><path d="M32 0 C201.5 -0.09, 370.8 0.85, 662.83 0 M32 0 C162.07 -2.27, 292.91 -2.15, 662.83 0 M662.83 0 C683.27 1.32, 693.48 12.66, 694.83 32 M662.83 0 C686.4 -2.29, 693.31 8.57, 694.83 32 M694.83 32 C693.25 142.56, 693.46 255.49, 694.83 453.09 M694.83 32 C693.48 172.95, 693.89 312.97, 694.83 453.09 M694.83 453.09 C694.58 476.29, 682.32 486.47, 662.83 485.09 M694.83 453.09 C693.86 472.46, 684.8 485.11, 662.83 485.09 M662.83 485.09 C522.04 485.87, 381.31 484.58, 32 485.09 M662.83 485.09 C448.66 483.88, 235.05 484, 32 485.09 M32 485.09 C12.51 486.51, -1.18 474.37, 0 453.09 M32 485.09 C10.04 484.28, -0.6 476.28, 0 453.09 M0 453.09 C-0.57 357.5, -1.31 260.54, 0 32 M0 453.09 C-0.42 363.51, -0.4 274.31, 0 32 M0 32 C0.2 12.55, 9.36 1.54, 32 0 M0 32 C0.83 10.89, 12.79 -1.33, 32 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g stroke-linecap="round" transform="translate(935.3722677221164 1110.2788638266843) rotate(0 205.1985859951375 22.5)"><path d="M11.25 0 C134.04 -2.49, 261.37 -2.11, 399.15 0 C404.76 -0.36, 409.63 0.91, 410.4 11.25 C411.44 14.08, 411.31 22.32, 410.4 33.75 C411.45 37.87, 408.77 42.84, 399.15 45 C304.49 45.64, 206.17 44.27, 11.25 45 C3.36 47.11, -0.48 44.62, 0 33.75 C0.16 29.28, 0.02 24.63, 0 11.25 C-2.18 1.51, 1.03 0.47, 11.25 0" stroke="none" stroke-width="0" fill="#ffc9c9"></path><path d="M11.25 0 C118.03 2.4, 223.2 1.11, 399.15 0 M11.25 0 C165.39 -0.49, 318.42 -0.51, 399.15 0 M399.15 0 C405.3 1.99, 412.34 1.76, 410.4 11.25 M399.15 0 C405.13 -2.09, 409.57 2.17, 410.4 11.25 M410.4 11.25 C410.72 19.57, 411.07 23.51, 410.4 33.75 M410.4 11.25 C410.02 19.43, 410.07 29.6, 410.4 33.75 M410.4 33.75 C408.55 42.63, 405.81 43.29, 399.15 45 M410.4 33.75 C411.03 41.27, 404.87 46.92, 399.15 45 M399.15 45 C277.85 45.31, 158.68 46.94, 11.25 45 M399.15 45 C301.19 45.11, 203.84 45.37, 11.25 45 M11.25 45 C2.57 44.95, -0.55 40.54, 0 33.75 M11.25 45 C3.15 46.85, -1.62 42.55, 0 33.75 M0 33.75 C-0.22 26.92, -1.9 17.21, 0 11.25 M0 33.75 C-0.61 28.9, 0.29 25.45, 0 11.25 M0 11.25 C-1.31 5.29, 4.48 0.19, 11.25 0 M0 11.25 C2.12 2.42, 2.83 -1.19, 11.25 0" stroke="#e03131" stroke-width="2" fill="none"></path></g><g transform="translate(967.9149088930351 1115.2788638266843) rotate(0 172.65594482421875 17.5)"><text x="172.65594482421875" y="24.668" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="28px" fill="#e03131" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">SQL Mapper(ex: MyBatis)</text></g><g stroke-linecap="round" transform="translate(2023.7957854867632 1132.7788636050877) rotate(0 474.3819862104224 477.9348660593362)"><path d="M32 0 C223.75 -2.33, 417.39 -1.65, 916.76 0 M32 0 C213.97 1.35, 395.82 1.37, 916.76 0 M916.76 0 C937.43 -0.32, 948.01 11.67, 948.76 32 M916.76 0 C940.17 1.51, 948.23 12.12, 948.76 32 M948.76 32 C950.35 269.79, 950.99 506.89, 948.76 923.87 M948.76 32 C948.11 313.83, 947.75 595.97, 948.76 923.87 M948.76 923.87 C950.74 945.82, 938.24 955.02, 916.76 955.87 M948.76 923.87 C949.06 947.32, 939.02 955.97, 916.76 955.87 M916.76 955.87 C640.45 958.56, 364.7 958.41, 32 955.87 M916.76 955.87 C682.78 957.08, 449.24 956.98, 32 955.87 M32 955.87 C11.78 954.73, 1.23 945.18, 0 923.87 M32 955.87 C12.31 957.21, -0.01 945.99, 0 923.87 M0 923.87 C-2.57 618.15, -1.63 313.23, 0 32 M0 923.87 C-2.98 691.72, -2.96 459.22, 0 32 M0 32 C1.73 11.86, 12.27 -0.66, 32 0 M0 32 C-1 12.51, 8.69 1.42, 32 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g stroke-linecap="round" transform="translate(2321.489909579963 1110.278864177345) rotate(0 176.68786224421717 22.5)"><path d="M11.25 0 C85.93 -0.21, 159.51 3.2, 342.13 0 C351.91 -0.03, 355.27 3.01, 353.38 11.25 C354.44 19.21, 350.29 26.69, 353.38 33.75 C351.6 42.66, 347.5 48.39, 342.13 45 C244.72 45.2, 142.84 46.02, 11.25 45 C2.31 43.58, -1.55 43.42, 0 33.75 C-2.83 27.74, -0.65 15.97, 0 11.25 C-1.24 6.76, 5.99 -0.39, 11.25 0" stroke="none" stroke-width="0" fill="#ffc9c9"></path><path d="M11.25 0 C129.35 1.6, 244.63 0.43, 342.13 0 M11.25 0 C96.02 0.68, 181.25 0.81, 342.13 0 M342.13 0 C348.87 1, 355.18 5.06, 353.38 11.25 M342.13 0 C349.09 1.46, 352.59 5.17, 353.38 11.25 M353.38 11.25 C353.24 18.45, 353.52 22.67, 353.38 33.75 M353.38 11.25 C352.59 20.88, 354.38 29, 353.38 33.75 M353.38 33.75 C353.52 40.4, 349.89 46.84, 342.13 45 M353.38 33.75 C354.3 41.35, 349.89 46.57, 342.13 45 M342.13 45 C211.32 42.25, 82.48 43.29, 11.25 45 M342.13 45 C230.24 43.97, 119.08 43.95, 11.25 45 M11.25 45 C4.98 44.97, 1.43 42.41, 0 33.75 M11.25 45 C3.74 45.79, 0.97 42.71, 0 33.75 M0 33.75 C1.67 27.23, -0.7 25.87, 0 11.25 M0 33.75 C0.72 27.87, 0.67 20.97, 0 11.25 M0 11.25 C1.61 3.09, 2.88 1.6, 11.25 0 M0 11.25 C-1.97 5.17, 1.8 0.36, 11.25 0" stroke="#e03131" stroke-width="2" fill="none"></path></g><g transform="translate(2398.3998100932226 1115.278864177345) rotate(0 99.77796173095703 17.5)"><text x="99.77796173095703" y="24.668" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="28px" fill="#e03131" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">ORM(ex: JPA )</text></g><g transform="translate(830.8809918102534 1176.9433621359158) rotate(0 317.61981201171875 200)"><text x="0" y="17.619999999999997" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">SQL Mapper는 직접 SQL 쿼리를 작성하고, 이를 Java 객체와 매핑시켜</text><text x="0" y="42.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">데이터베이스와 상호작용하는 형식으로 동작한다.</text><text x="0" y="67.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="0" y="92.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">SQL을 직접 작성하기 때문에 복잡한 쿼리나 최적화가 필요한 작업들을</text><text x="0" y="117.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">처리하는데 이점이 있다. </text><text x="0" y="142.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="0" y="167.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">대표적으로 MyBatis가 있는데, </text><text x="0" y="192.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">XML을 이용해 쿼리를 작성하고, 그 결과를 Java 객체로 매핑하는 방식</text><text x="0" y="217.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">으로 동작한다.</text><text x="0" y="242.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="0" y="267.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">XML의 &lt;select&gt; 태그에서 resultType으로 결과가 매핑될 객체를</text><text x="0" y="292.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">지정하고 내부에 쿼리를 작성하는 방식이다.</text><text x="0" y="317.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="0" y="342.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">@Mapper로 Mapper 인터페이스를 지정해주고 내부에서 </text><text x="0" y="367.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">`org.apache.ibatis.annotations` 패키지 애노테이션을 사용하는 방식의</text><text x="0" y="392.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">사용도 가능하다</text></g><g transform="translate(44.906737410987716 1168.5425483711983) rotate(0 352 137.5)"><text x="0" y="17.5" font-family="Comic Shanns, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">&lt;mapper namespace="com.example.mapper.UserMapper"&gt;</text><text x="0" y="42.5" font-family="Comic Shanns, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="0" y="67.5" font-family="Comic Shanns, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">  &lt;!-- Select 쿼리: User 테이블에서 id로 사용자 정보를 조회 --&gt;</text><text x="0" y="92.5" font-family="Comic Shanns, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">  &lt;select id="selectUser" resultType="com.example.model.User"&gt;</text><text x="0" y="117.5" font-family="Comic Shanns, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">    SELECT id, name, email</text><text x="0" y="142.5" font-family="Comic Shanns, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">    FROM users</text><text x="0" y="167.5" font-family="Comic Shanns, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">    WHERE id = #{id}</text><text x="0" y="192.5" font-family="Comic Shanns, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">  &lt;/select&gt;</text><text x="0" y="217.5" font-family="Comic Shanns, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="0" y="242.5" font-family="Comic Shanns, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">&lt;/mapper&gt;</text><text x="0" y="267.5" font-family="Comic Shanns, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text></g><g stroke-linecap="round" transform="translate(10 1143.9024984340303) rotate(0 373.19408967335494 151.9469746125352)"><path d="M32 0 C204.95 1.76, 376.39 0.74, 714.39 0 M714.39 0 C736.37 -0.39, 746.85 10.09, 746.39 32 M746.39 32 C746.73 90.87, 749.01 149.95, 746.39 271.89 M746.39 271.89 C746.73 291.33, 736.06 305.16, 714.39 303.89 M714.39 303.89 C571.71 303.45, 428.8 302.92, 32 303.89 M32 303.89 C10.51 304.75, 1.65 294.62, 0 271.89 M0 271.89 C-0.15 215.62, 1.77 157.76, 0 32 M0 32 C0.66 12.02, 8.9 0.85, 32 0" stroke="#1e1e1e" stroke-width="2.5" fill="none" stroke-dasharray="8 10"></path></g><g transform="translate(341.8140921727104 1462.1698098698307) rotate(0 41.37999725341797 12.5)"><text x="0" y="17.619999999999997" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">&lt; 예시 &gt; </text></g><g transform="translate(2076.008638787464 1175.7489193027568) rotate(0 419.2297973632813 237.5)"><text x="0" y="17.619999999999997" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">ORM은 객체와 DB 테이블을 직접적으로 매핑시키고, SQL 쿼리는 ORM에 맡기는 방식으로 동작</text><text x="0" y="42.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">한다. </text><text x="0" y="67.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="0" y="92.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">개발자는 간단한 CRUD 등의 상황에서 SQL 쿼리를 작성할 필요가 없으며, 비즈니스 로직에 좀 더</text><text x="0" y="117.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">집중할 수 있다는 장점이 있다. ( 복잡한 쿼리나 성능 최적화가 필요한 땐 쿼리를 작성해야한다. )</text><text x="0" y="142.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="0" y="167.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">JPA는 JavaEE 에서 RDB를 관리하기 위한 API이며, 보통 Hibernate라는 구현체가 자주 사용된</text><text x="0" y="192.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">다. 만약, Spring 환경이라면 Spring Data JPA가 자주 사용된다. </text><text x="0" y="217.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">( Spring Data JPA도 내부적으로는 Hibernate를 사용한다 )</text><text x="0" y="242.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="0" y="267.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">주요 특징은 DB 테이블과 객체가 매핑된다는 점이다.</text><text x="0" y="292.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">원격저장소 등을 사용하는 상황에서 테이블이 외부에 노출될 수 있다는 단점도 있지만,</text><text x="0" y="317.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">초기 세팅을 완료하면 개발자의 쿼리관련 고민을 줄일 수 있다는 장점이 있다.</text><text x="0" y="342.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="0" y="367.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">데이터베이스와 직접적으로 소통하는 인터페이스를 Repository라고 부르며,</text><text x="0" y="392.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">해당 인터페이스 내의 Method 명명규칙에 따라 생성되는 쿼리가 정해진다.</text><text x="0" y="417.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="0" y="442.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">예를들어, findByUserId(userId) 이런 이름이라면 userId를 이용해 매핑되는 테이블로 </text><text x="0" y="467.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">SELECT 쿼리를 날리는 방식이다.</text></g><g stroke-linecap="round" transform="translate(2062.854967511068 1414.2357201707846) rotate(0 380.9424863423461 47.0766993065115)"><path d="M23.54 0 C210.46 1.47, 395.35 0.99, 738.35 0 M738.35 0 C753.5 1.3, 761.4 7.93, 761.88 23.54 M761.88 23.54 C760.61 33.61, 759.96 43.85, 761.88 70.62 M761.88 70.62 C760.53 85.07, 755.62 95.53, 738.35 94.15 M738.35 94.15 C455.03 95.08, 169.5 96.12, 23.54 94.15 M23.54 94.15 C8.36 93.83, 0.92 85.12, 0 70.62 M0 70.62 C0.37 62.45, -1.13 50.42, 0 23.54 M0 23.54 C0.71 7.23, 6.19 -0.69, 23.54 0" stroke="#2f9e44" stroke-width="2.5" fill="none" stroke-dasharray="8 10"></path></g><g stroke-linecap="round"><g transform="translate(2072.5949742641387 1680.4625714214021) rotate(0 425.8547397037306 -1.6233344588453065)"><path d="M1.1 0.11 C143.02 -0.36, 710.72 -2.7, 852.64 -3.31" stroke="#2f9e44" stroke-width="2.5" fill="none" stroke-dasharray="8 10"></path></g></g><mask></mask><g transform="translate(2071.5127512915756 1708.6003687080533) rotate(0 432.2898254394532 175)"><text x="0" y="17.619999999999997" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">매 요청마다 데이터베이스로 쿼리를 날리면 네트워크 비용 등의 문제가 생긴다.</text><text x="0" y="42.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">이를 줄이기 위해서 JPA는 영속성 컨텍스트라는 중간 저장소개념을 가지고 있다.</text><text x="0" y="67.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="0" y="92.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">영속성 컨텍스트는 트랜잭션 내의 요청들을 보관하고 있다가 특정시점에 일괄적으로 DB에 요청한다. </text><text x="0" y="117.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">즉, JPA는 트랜잭션의 기능을 수행할 수 있다. </text><text x="0" y="142.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">( 쓰기 관련 요청들만 해당하며, 읽기 요청은 필요에 따라 바로바로 DB를 거쳐 1차 캐시에 저장한다 )</text><text x="0" y="167.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="0" y="192.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">이 때문에 영속성 컨텍스트에 보관된 요청정보가 DB로 전달되기 이전에 시스템이 다운된다면</text><text x="0" y="217.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">결과가 정상적으로 반영되지 않을 수 있다.</text><text x="0" y="242.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="0" y="267.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">영속성 컨텍스트에 한번 영속(Persist)된 객체는 트랜잭션이 끝날 때까지 Entity로써 동작한다.</text><text x="0" y="292.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">즉, 해당 Entity의 값을 수정하면 UPDATE 쿼리가 발생한다는 의미다.</text><text x="0" y="317.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="0" y="342.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">영속성 컨텍스트에 보관된 쿼리들이 한번에 DB로 전달되는 시점은 flush() 가 호출된 경우다.</text></g><g stroke-linecap="round" transform="translate(2065.7076346863705 1776.5177481512947) rotate(0 438.8414153744924 44.436808832167344)"><path d="M22.22 0 C311.71 0.8, 599.12 0.31, 855.46 0 M855.46 0 C871.48 0.43, 878.88 9.26, 877.68 22.22 M877.68 22.22 C876.75 38.19, 876.42 51.75, 877.68 66.66 M877.68 66.66 C877.97 81.43, 869.18 87.46, 855.46 88.87 M855.46 88.87 C582.51 87.27, 309.13 87.37, 22.22 88.87 M22.22 88.87 C8.38 90.7, 0.36 82.79, 0 66.66 M0 66.66 C1.83 52.92, 1.65 37.4, 0 22.22 M0 22.22 C-0.99 7.15, 7.66 -0.57, 22.22 0" stroke="#2f9e44" stroke-width="2.5" fill="none" stroke-dasharray="8 10"></path></g><g stroke-linecap="round"><g transform="translate(2928.057548890145 1250.7622652338296) rotate(0 1.144133341876227 25.743000192214367)"><path d="M-0.64 -0.63 C-0.48 7.91, 1.33 41.97, 1.98 50.47 M1.23 1.65 C1.11 10.37, 0.58 43.23, 0.87 51.47" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round"><g transform="translate(2931.4899489157733 1273.6449320713532) rotate(0 34.3240002562859 -0.5720666709381135)"><path d="M0.65 0.22 C11.77 0.25, 56.65 0.17, 67.89 -0.16 M-0.47 -0.71 C10.93 -0.97, 58.96 -1.76, 70.21 -1.77" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(2931.4899489157733 1273.6449320713532) rotate(0 34.3240002562859 -0.5720666709381135)"><path d="M46.81 7.02 C56.52 2.14, 67.12 -1.03, 70.21 -1.77 M46.81 7.02 C52.89 5.19, 58.95 2.43, 70.21 -1.77" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(2931.4899489157733 1273.6449320713532) rotate(0 34.3240002562859 -0.5720666709381135)"><path d="M46.63 -10.08 C56.38 -8.15, 67.04 -4.5, 70.21 -1.77 M46.63 -10.08 C52.87 -7.67, 58.98 -6.18, 70.21 -1.77" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round" transform="translate(3026.2572062025783 1220.2669711955355) rotate(0 255.33754532731086 127.74662809777055)"><path d="M32 0 C133.7 -2.11, 235.03 -1.46, 478.68 0 M32 0 C174.07 -0.89, 315.44 -1.32, 478.68 0 M478.68 0 C499.8 0.38, 511.04 11.36, 510.68 32 M478.68 0 C500.31 2.27, 512.11 9.58, 510.68 32 M510.68 32 C512.13 84.2, 511.25 139.24, 510.68 223.49 M510.68 32 C509.08 105, 509.2 179.87, 510.68 223.49 M510.68 223.49 C512.22 243.78, 500.94 255.54, 478.68 255.49 M510.68 223.49 C510.12 243.12, 498.18 256.12, 478.68 255.49 M478.68 255.49 C370.94 253.57, 263.3 254.63, 32 255.49 M478.68 255.49 C321.26 253.81, 164.84 253.75, 32 255.49 M32 255.49 C11.43 254.48, 0.68 244.98, 0 223.49 M32 255.49 C12.54 256.31, 2.2 242.92, 0 223.49 M0 223.49 C-0.56 152.03, -0.45 79.91, 0 32 M0 223.49 C1.43 172.47, 0.88 123.64, 0 32 M0 32 C0.59 9.07, 9.92 -0.36, 32 0 M0 32 C-0.76 12.13, 8.63 0.72, 32 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(3058.488749864031 1243.8974651825724) rotate(0 226.66986083984375 100)"><text x="0" y="17.619999999999997" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">직접 쿼리를 작성하는 상황에서는 </text><text x="0" y="42.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">보통 @Query나 QueryDSL 같은 라이브러리를 쓴다.</text><text x="0" y="67.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="0" y="92.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">@Query의 경우 JPQL 이라는 언어를 쓰거나, </text><text x="0" y="117.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">Native Query를 쓴다.</text><text x="0" y="142.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="0" y="167.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">QueryDSL은 동적 쿼리생성을 지원하기 때문에</text><text x="0" y="192.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">해당 기능이 필요하다면 이 라이브러리를 사용하자</text></g><g stroke-linecap="round" transform="translate(2919.256763114016 1922.024105132598) rotate(0 312.25999132717743 175.18551482472094)"><path d="M32 0 C206.63 -3.33, 379.02 -5.1, 592.52 0 C610.67 -2.68, 628 12.96, 624.52 32 C619.21 103.11, 619.54 170.93, 624.52 318.37 C622.56 338.91, 613.1 349.52, 592.52 350.37 C425.48 348.19, 257 347.97, 32 350.37 C11.16 350.65, 2.5 341.3, 0 318.37 C0.51 231.96, 3.36 147.8, 0 32 C2.36 11.78, 8.71 -3.58, 32 0" stroke="none" stroke-width="0" fill="#ffffff"></path><path d="M32 0 C165.99 -1.42, 298.83 0, 592.52 0 M32 0 C193.38 1.16, 354.52 1.48, 592.52 0 M592.52 0 C612.04 -1.14, 623.95 10.5, 624.52 32 M592.52 0 C615.81 0.3, 624.24 9.49, 624.52 32 M624.52 32 C624.57 130.99, 623.41 231.24, 624.52 318.37 M624.52 32 C624.51 119.17, 623.35 205.31, 624.52 318.37 M624.52 318.37 C625.67 338.63, 615.6 350.55, 592.52 350.37 M624.52 318.37 C624.22 339.26, 611.83 350.42, 592.52 350.37 M592.52 350.37 C387.41 349.98, 181.7 349.94, 32 350.37 M592.52 350.37 C459.75 351.8, 325.82 352.07, 32 350.37 M32 350.37 C11.73 351.11, -1.05 341.48, 0 318.37 M32 350.37 C9.77 351.02, 1.71 341.67, 0 318.37 M0 318.37 C-1.23 250.51, -1.02 184.78, 0 32 M0 318.37 C-1.32 253.45, -1.51 188.21, 0 32 M0 32 C-1.94 11.9, 11.55 1.67, 32 0 M0 32 C1.25 11.65, 9.38 -1.02, 32 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g stroke-linecap="round" transform="translate(2978.2050746574314 1900.4174301430703) rotate(0 63.754300032197534 17.5)"><path d="M8.75 0 C29.08 -4.88, 59.35 -0.72, 118.76 0 C125.12 2.35, 126.89 2.82, 127.51 8.75 C129.45 12.09, 127.23 16.38, 127.51 26.25 C130.3 35.33, 124.67 35.34, 118.76 35 C82.65 33.73, 47.65 33.52, 8.75 35 C-0.29 33.87, 2.41 30.84, 0 26.25 C-3.33 20.52, -0.85 18.1, 0 8.75 C-0.43 0.46, 3.04 2.65, 8.75 0" stroke="none" stroke-width="0" fill="#a5d8ff"></path><path d="M8.75 0 C49.73 -0.54, 86.8 1.11, 118.76 0 M8.75 0 C47.05 -1.16, 84.05 -0.49, 118.76 0 M118.76 0 C126.56 1.83, 128.57 3.42, 127.51 8.75 M118.76 0 C123.44 -2.24, 125.47 1.21, 127.51 8.75 M127.51 8.75 C126.04 15.98, 126.47 23.39, 127.51 26.25 M127.51 8.75 C127.25 12.88, 127.24 17.38, 127.51 26.25 M127.51 26.25 C127.45 30.49, 125.84 36.43, 118.76 35 M127.51 26.25 C128.11 33.38, 124.91 35.18, 118.76 35 M118.76 35 C76.65 35.17, 35.75 34.23, 8.75 35 M118.76 35 C84.03 35.18, 47.69 36.45, 8.75 35 M8.75 35 C1.05 35.84, 0.13 33.71, 0 26.25 M8.75 35 C4.52 33, -1.84 32.24, 0 26.25 M0 26.25 C-1.13 22.64, -0.7 15.4, 0 8.75 M0 26.25 C0.29 22.4, 0.51 17.78, 0 8.75 M0 8.75 C1.63 3.66, 0.94 -1.32, 8.75 0 M0 8.75 C2.07 1.05, 4.37 0.11, 8.75 0" stroke="#1971c2" stroke-width="2" fill="none"></path></g><g transform="translate(3005.5593960519336 1905.4174301430703) rotate(0 36.39997863769531 12.5)"><text x="36.39997863769531" y="17.619999999999997" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1971c2" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">지연로딩</text></g><g transform="translate(2966.14160907434 1957.201474682045) rotate(0 267.99993896484375 150)"><text x="0" y="17.619999999999997" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">1:N이나 N:M 관계인 경우. 특정 테이블의 튜플을 읽었을 때</text><text x="0" y="42.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">관련된 다수의 튜플들이 함께 읽어져야 하는 상황이 있다.</text><text x="0" y="67.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="0" y="92.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">이 경우, 하나의 Entity을 읽었을 뿐인데 다수의 쿼리가</text><text x="0" y="117.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">연달아 발생하는 경우가 생기며, N+1 문제로 불린다.</text><text x="0" y="142.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="0" y="167.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">지연로딩을 이용하여 연관된 Entity 정보를 읽어올 시점을 </text><text x="0" y="192.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">지정하는 방법으로 개선이 가능하다.</text><text x="0" y="217.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="0" y="242.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">기본 로딩전략은 즉시로딩이기 때문에, 이를 지연로딩으로 </text><text x="0" y="267.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">바꿔주면 실제로 해당 튜플이 필요한 시점에 쿼리가 발생하도록</text><text x="0" y="292.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">할 수 있다.</text></g><g stroke-linecap="round" transform="translate(3053.7966101083057 2281.5904532449504) rotate(0 419.66413696020857 228.11505680892617)"><path d="M32 0 C266.67 3, 501.01 3.57, 807.33 0 C831.95 1.4, 842.76 8.73, 839.33 32 C841.39 134.56, 840.81 242.99, 839.33 424.23 C840.55 447.6, 825.7 456.42, 807.33 456.23 C616.15 456.71, 425.26 457.06, 32 456.23 C8.5 453.24, 2.34 448.87, 0 424.23 C1.56 269.27, 1.78 111.76, 0 32 C-0.65 14.04, 10.65 2.25, 32 0" stroke="none" stroke-width="0" fill="#ffffff"></path><path d="M32 0 C266.81 0.94, 503.55 1.56, 807.33 0 M32 0 C206.1 -1.12, 380.82 -1.15, 807.33 0 M807.33 0 C830.38 1.44, 837.81 11.57, 839.33 32 M807.33 0 C830.07 0.62, 838.41 9.43, 839.33 32 M839.33 32 C838.37 185.7, 837.75 337.61, 839.33 424.23 M839.33 32 C838.69 140.06, 839.15 247.82, 839.33 424.23 M839.33 424.23 C841.12 447.54, 828.91 457.82, 807.33 456.23 M839.33 424.23 C840.72 446.38, 829.62 455.48, 807.33 456.23 M807.33 456.23 C586.49 455.72, 364.83 456.41, 32 456.23 M807.33 456.23 C632.35 456.71, 458.31 456.29, 32 456.23 M32 456.23 C9.16 454.55, -0.04 444.04, 0 424.23 M32 456.23 C11.37 454.8, -0.5 443.87, 0 424.23 M0 424.23 C-1.81 291.67, -2.01 159.25, 0 32 M0 424.23 C0.06 283.21, -0.29 142.2, 0 32 M0 32 C1.75 11.03, 10.44 -0.98, 32 0 M0 32 C-0.99 11.13, 8.46 1.19, 32 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g stroke-linecap="round" transform="translate(3105.4545656318346 2255.262853183623) rotate(0 63.754300032197534 17.5)"><path d="M8.75 0 C33.8 1.19, 65.42 1.68, 118.76 0 C128.02 -1.94, 126.31 5.28, 127.51 8.75 C125.6 17.55, 128.48 22.95, 127.51 26.25 C124.55 32.27, 122.69 37.75, 118.76 35 C87.41 35.34, 48.15 31.82, 8.75 35 C5.26 38.31, 3.5 30.31, 0 26.25 C-0.28 21.45, -0.5 21.92, 0 8.75 C-0.01 5.17, 2.26 -1.9, 8.75 0" stroke="none" stroke-width="0" fill="#b2f2bb"></path><path d="M8.75 0 C39.55 1.37, 65.44 0.52, 118.76 0 M8.75 0 C45.84 -0.07, 83.16 0.87, 118.76 0 M118.76 0 C123.08 0.9, 128.73 3.46, 127.51 8.75 M118.76 0 C123.68 -1.24, 129.57 2.32, 127.51 8.75 M127.51 8.75 C125.96 13.43, 127.02 18.12, 127.51 26.25 M127.51 8.75 C127.93 12.48, 128.25 17.59, 127.51 26.25 M127.51 26.25 C127.75 33.68, 125.8 35.71, 118.76 35 M127.51 26.25 C128.46 31.33, 124.25 35, 118.76 35 M118.76 35 C84.65 34.67, 51.12 33.21, 8.75 35 M118.76 35 C84.64 34.23, 48.97 34.3, 8.75 35 M8.75 35 C2.87 33.47, 0.61 30.84, 0 26.25 M8.75 35 C2.41 33.31, 0.9 33.49, 0 26.25 M0 26.25 C-0.87 24.23, 1.11 18.88, 0 8.75 M0 26.25 C-0.48 22.49, 0.75 18.27, 0 8.75 M0 8.75 C-0.23 1.94, 2.05 0.4, 8.75 0 M0 8.75 C-2.21 4.11, 2.98 -0.91, 8.75 0" stroke="#2f9e44" stroke-width="2" fill="none"></path></g><g transform="translate(3130.9488787865907 2260.262853183623) rotate(0 38.259986877441406 12.5)"><text x="38.259986877441406" y="17.619999999999997" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#2f9e44" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">N+1 문제</text></g><g transform="translate(3104.090753763345 2294.761081376558) rotate(0 369.9297790527344 212.5)"><text x="0" y="17.619999999999997" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">지연로딩을 통해 N+1 문제를 해결할 수 있는 것처럼 작성했지만, </text><text x="0" y="42.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">결국 쿼리의 발생 시점을 늦출 뿐이다. 즉, 발생하는 쿼리의 수를 줄이지는 못한다.</text><text x="0" y="67.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="0" y="92.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">이를 해결하기 위한 방법은 크게 2가지로 나뉜다.</text><text x="0" y="117.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">1. Join을 통해 하나의 테이블로 받아오기</text><text x="0" y="142.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">2. 특정 크기를 정해서 그 단위로 받아오기</text><text x="0" y="167.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="0" y="192.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">1번 방법의 경우, `join fetch` or `@EntityGraph`를 사용하는 방법으로 나뉜다.</text><text x="0" y="217.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">둘 다 Eager Join으로 데이터를 가져와야 한다</text><text x="0" y="242.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="0" y="267.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">`join fetch`는 Inner Join으로 가져오기 때문에 페이지처리가 불가능하고 데이터가 </text><text x="0" y="292.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">중복될 수 있다는 단점이 있다.</text><text x="0" y="317.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="0" y="342.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">`@EntityGraph`는 Left Outer Join을 사용하기에 결과값으로 NULL이 올 수 있다.</text><text x="0" y="367.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="0" y="392.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">2번 방법의 경우, 지연로딩을 전제로 하여 추가 쿼리가 발생해야하는 상황에서 </text><text x="0" y="417.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">IN 쿼리를 이용하여 정해진 BatchSize 만큼만 가져오도록 설정하는 방법이다.</text></g><g stroke-linecap="round"><g transform="translate(3107.462265940488 2719.4453574720083) rotate(0 311.77478335571675 -0.44283841711830974)"><path d="M0.77 0.34 C105 0.17, 520.58 -0.3, 624.57 -0.5 M-0.28 -0.52 C103.95 -1.12, 520.02 -2.59, 624.15 -2.42" stroke="#2f9e44" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round"><g transform="translate(3295.685130920182 2721.481210132971) rotate(0 0 19.376452940109402)"><path d="M-0.27 0.28 C-0.26 6.8, -0.11 32.57, -0.03 38.96 M0.59 -0.05 C0.54 6.31, -0.37 31.57, -0.48 38.11" stroke="#2f9e44" stroke-width="2" fill="none"></path></g><g transform="translate(3295.685130920182 2721.481210132971) rotate(0 0 19.376452940109402)"><path d="M-6.61 19.73 C-4.44 24.75, -2.88 30.22, -0.48 38.11 M-6.61 19.73 C-5.25 24.45, -2.99 29.96, -0.48 38.11" stroke="#2f9e44" stroke-width="2" fill="none"></path></g><g transform="translate(3295.685130920182 2721.481210132971) rotate(0 0 19.376452940109402)"><path d="M6.64 20.08 C5.16 24.98, 3.07 30.35, -0.48 38.11 M6.64 20.08 C4.29 24.76, 2.84 30.17, -0.48 38.11" stroke="#2f9e44" stroke-width="2" fill="none"></path></g></g><mask></mask><g transform="translate(3105.9919463727933 2777.5684759680944) rotate(0 420.30987548828125 50)"><text x="0" y="17.619999999999997" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#2f9e44" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">현재 Table의 PK를 이용해 BatchSize 만큼 대상 테이블에서 IN(1, 2 ... ) 이런식으로 작성된다. </text><text x="0" y="42.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#2f9e44" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">즉, 세부조회를 시도하면 Lazy하게 하나의 추가쿼리가 발생한다.</text><text x="0" y="67.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#2f9e44" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="0" y="92.62" font-family="Excalifont, Xiaolai, Segoe UI Emoji" font-size="20px" fill="#2f9e44" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">EX: BatchSize가 10인 경우</text></g><g stroke-linecap="round"><g transform="translate(1311.0458168087957 931.5844393656599) rotate(0 -88.00000000000006 87.33333333333337)"><path d="M-0.98 -0.69 C-21.42 2.62, -93.18 -8.98, -122.23 20.2 C-151.27 49.38, -166.18 148.74, -175.24 174.37 M0.71 1.56 C-19.4 4.94, -90.6 -7.86, -119.98 21.14 C-149.37 50.14, -166.16 149.93, -175.6 175.54" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1311.0458168087957 931.5844393656599) rotate(0 -88.00000000000006 87.33333333333337)"><path d="M-177.7 150.63 C-178.07 157.49, -178.12 168.58, -175.6 175.54 M-177.7 150.63 C-176.55 157.42, -176.36 163.44, -175.6 175.54" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1311.0458168087957 931.5844393656599) rotate(0 -88.00000000000006 87.33333333333337)"><path d="M-161.2 155.11 C-167.11 160.34, -172.67 169.93, -175.6 175.54 M-161.2 155.11 C-164.58 160.58, -168.94 165.36, -175.6 175.54" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round"><g transform="translate(2259.31219509203 936.004039336671) rotate(0 116.68226929203564 84.07757378225119)"><path d="M-0.56 -1.12 C22.03 2.3, 95.8 -6.92, 134.96 21.36 C174.13 49.64, 218.1 144.26, 234.42 168.58 M1.35 0.91 C23.89 4.4, 95.58 -5, 134.39 22.6 C173.2 50.19, 217.79 142.24, 234.21 166.45" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(2259.31219509203 936.004039336671) rotate(0 116.68226929203564 84.07757378225119)"><path d="M214.94 150.53 C218.09 155.85, 223.89 160.47, 234.21 166.45 M214.94 150.53 C220.95 155.73, 227.65 160.99, 234.21 166.45" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(2259.31219509203 936.004039336671) rotate(0 116.68226929203564 84.07757378225119)"><path d="M229.68 141.87 C229.15 149.32, 231.21 156.14, 234.21 166.45 M229.68 141.87 C230.72 149.86, 232.48 158.02, 234.21 166.45" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g transform="translate(3107.434123500435 2888.2197588152585) rotate(0 242 50)"><text x="0" y="17.5" font-family="Comic Shanns, Segoe UI Emoji" font-size="20px" fill="#1971c2" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">SELECT c.id, c.description, c.post_id </text><text x="0" y="42.5" font-family="Comic Shanns, Segoe UI Emoji" font-size="20px" fill="#1971c2" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">FROM Command c </text><text x="0" y="67.5" font-family="Comic Shanns, Segoe UI Emoji" font-size="20px" fill="#1971c2" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">WHERE c.post_id = 1 </text><text x="0" y="92.5" font-family="Comic Shanns, Segoe UI Emoji" font-size="20px" fill="#1971c2" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">AND c.id IN (1, 2, 3, 4, 5, 6, 7, 8, 9, 10);</text></g></svg></div></div></div><div class="sidebar-right sidebar"><div class="sidebar-handle"></div><div class="sidebar-topbar"><div class="topbar-content"></div><div class="clickable-icon sidebar-collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" class="svg-icon"><path d="M21 3H3C1.89543 3 1 3.89543 1 5V19C1 20.1046 1.89543 21 3 21H21C22.1046 21 23 20.1046 23 19V5C23 3.89543 22.1046 3 21 3Z"></path><path d="M10 4V20"></path><path d="M4 7H7"></path><path d="M4 10H7"></path><path d="M4 13H7"></path></svg></div></div><div class="sidebar-content"></div><script defer="">let rs = document.querySelector(".sidebar-right"); rs.classList.add("is-collapsed"); if (window.innerWidth > 768) rs.classList.remove("is-collapsed"); rs.style.setProperty("--sidebar-width", localStorage.getItem("sidebar-right-width"));</script></div></div></body></html>