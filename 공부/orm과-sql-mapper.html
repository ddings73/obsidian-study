<!DOCTYPE html> <html lang="ko"><head>
<title>ORM과 SQL Mapper</title>
<base href="..">
<meta name="pathname" content="공부/orm과-sql-mapper.html">
<meta name="description" content="Obsidian Vault - ORM과 SQL Mapper">
<meta property="og:title" content="ORM과 SQL Mapper">
<meta property="og:description" content="Obsidian Vault - ORM과 SQL Mapper">
<meta property="og:type" content="website">
<meta property="og:url" content="공부/orm과-sql-mapper.html">
<meta property="og:image" content="undefined">
<meta charset="UTF-8"><meta property="og:site_name" content="Obsidian Vault"><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=1.0, maximum-scale=5.0"><script async="" id="webpage-script" src="site-lib/scripts/webpage.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><link rel="icon" href="site-lib/media/favicon.png"><link rel="preload" href="site-lib/styles/snippets.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="site-lib/styles/snippets.css"></noscript><link rel="stylesheet" href="site-lib/styles/obsidian.css"><link rel="stylesheet" href="site-lib/styles/theme.css"><link rel="preload" href="site-lib/styles/global-variable-styles.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="site-lib/styles/global-variable-styles.css"></noscript><link rel="preload" href="site-lib/styles/supported-plugins.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="site-lib/styles/supported-plugins.css"></noscript><link rel="preload" href="site-lib/styles/main-styles.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="site-lib/styles/main-styles.css"></noscript><style>body{--line-width:40em;--line-width-adaptive:40em;--file-line-width:40em;--sidebar-width:min(20em, 80vw);--collapse-arrow-size:11px;--tree-vertical-spacing:1.3em;--sidebar-margin:12px}:root{background-color:#202124}.sidebar{height:100%;font-size:14px;z-index:10;min-width:calc(var(--sidebar-width) + var(--divider-width-hover));max-width:calc(var(--sidebar-width) + var(--divider-width-hover));position:relative;overflow:hidden;overflow:clip;transition:min-width ease-in-out,max-width ease-in-out;transition-duration:.2s;contain:size}#left-sidebar{left:0}#right-sidebar{right:0}.sidebar.is-collapsed{min-width:0;max-width:0}.sidebar.floating{position:absolute}.sidebar .leaf-content{height:100%;min-width:calc(var(--sidebar-width) - var(--divider-width-hover));top:0;padding:var(--sidebar-margin);padding-top:4em;line-height:var(--line-height-tight);background-color:var(--background-secondary);transition:background-color,border-right,border-left,box-shadow;transition-duration:var(--color-fade-speed);transition-timing-function:ease-in-out;position:absolute;display:flex;flex-direction:column}.sidebar:not(.is-collapsed) .leaf-content{min-width:calc(max(100%,var(--sidebar-width)) - 3px);max-width:calc(max(100%,var(--sidebar-width)) - 3px)}#left-sidebar-content{left:0;border-top-right-radius:var(--radius-l);border-bottom-right-radius:var(--radius-l)}#right-sidebar-content{right:0;border-top-left-radius:var(--radius-l);border-bottom-left-radius:var(--radius-l)}.sidebar #left-sidebar-content,.sidebar #right-sidebar-content{contain:none!important;container-type:normal!important;animation:none!important}.sidebar:has(.leaf-content:empty):has(.topbar-content:empty){display:none}.sidebar-topbar{height:calc(2.3em + 2 * var(--sidebar-margin));width:var(--sidebar-width);padding:var(--sidebar-margin);z-index:1;position:fixed;display:flex;align-items:center;transition:width ease-in-out;transition-duration:inherit}.sidebar.is-collapsed .sidebar-topbar{width:calc(2.3em + var(--sidebar-margin) * 2)}.sidebar .sidebar-topbar.is-collapsed{width:0}#left-sidebar .sidebar-topbar{left:0;flex-direction:row;border-top-right-radius:var(--radius-l)}#right-sidebar .sidebar-topbar{right:0;flex-direction:row-reverse;border-top-left-radius:var(--radius-l)}#left-sidebar .topbar-content{margin-right:calc(2.3em + var(--sidebar-margin));flex-direction:row}#right-sidebar .topbar-content{margin-left:calc(2.3em + var(--sidebar-margin));flex-direction:row-reverse}.topbar-content{overflow:hidden visible;overflow:clip visible;width:100%;height:100%;display:flex;align-items:center;transition:inherit}.sidebar.is-collapsed .topbar-content{width:0;transition:inherit}.clickable-icon.sidebar-collapse-icon{background-color:transparent;color:var(--icon-color-focused);padding:2px!important;margin:0!important;height:100%!important;width:2.3em!important;margin-inline:0.14em!important;position:absolute}#left-sidebar .clickable-icon.sidebar-collapse-icon{transform:rotateY(180deg);right:var(--sidebar-margin)}#right-sidebar .clickable-icon.sidebar-collapse-icon{transform:rotateY(180deg);left:var(--sidebar-margin)}.clickable-icon.sidebar-collapse-icon svg.svg-icon{width:100%;height:100%}.feature-title{margin-left:1px;text-transform:uppercase;letter-spacing:.06em;margin-top:.75em;margin-bottom:.75em}.feature-header{display:flex;align-items:center;padding-top:0;font-size:1em;padding-left:0}body.floating-sidebars .sidebar{position:absolute}body{transition:background-color var(--color-fade-speed) ease-in-out}#navbar:not(:empty){display:flex;align-items:center;justify-content:space-between;padding:.5em 1em;width:100%}#main{display:flex;flex-direction:column;height:100%;width:100%;align-items:stretch;justify-content:center}#main-horizontal{display:flex;flex-direction:row;flex-grow:1;width:100%;align-items:stretch;justify-content:center}#center-content{flex-basis:100%;max-width:100%;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;transition:opacity .2s ease-in-out;contain:inline-size}.hide{opacity:0!important;transition:opacity .2s ease-in-out;pointer-events:none}#center-content>.obsidian-document{padding-left:2em;padding-right:1em;margin-bottom:0;width:100%;width:-webkit-fill-available;width:-moz-available;width:fill-available;transition:background-color var(--color-fade-speed) ease-in-out;border-top-right-radius:var(--window-radius,var(--radius-m));border-top-left-radius:var(--window-radius,var(--radius-m));overflow-x:hidden!important;overflow-y:auto!important;display:flex!important;flex-direction:column!important;align-items:center!important;contain:inline-size}body #center-content>.obsidian-document>.markdown-preview-sizer{padding-bottom:80vh;width:100%;max-width:var(--line-width);flex-basis:var(--line-width);transition:background-color var(--color-fade-speed) ease-in-out;contain:inline-size}#center-content>.obsidian-document>div{width:100%!important;transition:background-color var(--color-fade-speed) ease-in-out;contain:inline-size}#center-content>.obsidian-document:not([data-type=markdown]).embed{display:flex;padding:1em;height:100%;width:100%;align-items:center;justify-content:center}#center-content>.obsidian-document:not([data-type=markdown]).embed>*{max-width:100%;max-height:100%;object-fit:contain}:not(h1,h2,h3,h4,h5,h6,li):has(> :is(.math,table)){overflow-x:auto!important}#center-content>.obsidian-document:not([data-type=markdown]){overflow-x:auto;contain:content;padding:0;margin:0;height:100%}.obsidian-document[data-type=attachment]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;width:100%}.obsidian-document[data-type=attachment]>*{outline:0;border:none;box-shadow:none}.obsidian-document[data-type=attachment] :is(img){max-width:90%;max-height:90%;object-fit:contain}.obsidian-document[data-type=attachment]>:is(audio){width:100%;max-width:min(90%,var(--line-width))}.obsidian-document[data-type=attachment]>:is(embed,iframe,video){width:100%;height:100%;max-width:100%;max-height:100%;object-fit:contain}.canvas-wrapper>:is(.header,.footer){z-index:100;position:absolute;display:flex;justify-content:center;flex-direction:column;width:100%;align-items:center}.scroll-highlight{position:absolute;width:100%;height:100%;pointer-events:none;z-index:1000;background-color:hsla(var(--color-accent-hsl),.25);opacity:0;padding:1em;inset:50%;translate:-50% -50%;border-radius:var(--radius-s)}</style><script defer="">async function loadIncludes(){let e=document.querySelectorAll("link[itemprop='include']");for(const t of e){let e=t.getAttribute("href");try{let o="";if(e.startsWith("https:")||e.startsWith("http:")||"file:"!=window.location.protocol){const n=await fetch(e);if(!n.ok){console.log("Could not include file: "+e),t?.remove();continue}o=await n.text()}else{const t=document.getElementById(btoa(encodeURI(e)));if(t){const e=JSON.parse(decodeURI(atob(t.getAttribute("value")??"")));o=e?.data??""}}let n=document.createRange().createContextualFragment(o);t.before(n),t.remove(),console.log("Included text: "+o),console.log("Included file: "+e)}catch(o){t?.remove(),console.log("Could not include file: "+e,o);continue}}}document.addEventListener("DOMContentLoaded",(()=>{loadIncludes()}));let isFileProtocol="file:"==location.protocol;function waitLoadScripts(e,t){let o=e.map((e=>document.getElementById(e+"-script")));!function e(n){let l=o[n],c=n+1;l?(l&&"true"!=l.getAttribute("loaded")||n<o.length&&e(c),n<o.length&&l.addEventListener("load",(()=>e(c)))):n<o.length?e(c):t()}(0)}</script></head><body class="publish css-settings-manager show-inline-title show-ribbon is-focused"><script defer="">let theme=localStorage.getItem("theme")||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");"dark"==theme?(document.body.classList.add("theme-dark"),document.body.classList.remove("theme-light")):(document.body.classList.add("theme-light"),document.body.classList.remove("theme-dark")),window.innerWidth<480?document.body.classList.add("is-phone"):window.innerWidth<768?document.body.classList.add("is-tablet"):window.innerWidth<1024?document.body.classList.add("is-small-screen"):document.body.classList.add("is-large-screen")</script><div class="parsed-feature-container" style="display: contents;"><link itemprop="include" href="site-lib/html/custom-head-content-content.html"></div><div id="main"><div id="navbar"></div><div id="main-horizontal"><div id="left-content" class="leaf" style="--sidebar-width: var(--sidebar-width-left);"><div id="left-sidebar" class="sidebar"><div class="sidebar-handle"></div><div class="sidebar-topbar"><div class="topbar-content"><div id="search-container"><div id="search-wrapper"><input enterkeyhint="search" type="search" spellcheck="false" placeholder="Search..."><div aria-label="Clear search" id="search-clear-button"></div></div></div><label class="theme-toggle-container" for="theme-toggle-input" id=""><input class="theme-toggle-input" type="checkbox" id="theme-toggle-input"><div class="toggle-background"></div></label></div><div class="clickable-icon sidebar-collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" class="svg-icon"><path d="M21 3H3C1.89543 3 1 3.89543 1 5V19C1 20.1046 1.89543 21 3 21H21C22.1046 21 23 20.1046 23 19V5C23 3.89543 22.1046 3 21 3Z"></path><path d="M10 4V20"></path><path d="M4 7H7"></path><path d="M4 10H7"></path><path d="M4 13H7"></path></svg></div></div><div class="sidebar-content-wrapper"><div id="left-sidebar-content" class="leaf-content"><link itemprop="include" href="site-lib/html/file-tree-content.html"></div></div><script defer="">let ls = document.querySelector("#left-sidebar"); ls.classList.toggle("is-collapsed", window.innerWidth < 768); ls.style.setProperty("--sidebar-width", localStorage.getItem("sidebar-left-width"));</script></div></div><div id="center-content" class="leaf"><div class="obsidian-document" data-type="excalidraw"><style id="MJX-CHTML-styles"></style><div class="excalidraw-plugin"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 4577.1459285748615 2998.2197588152585" width="4577.1459285748615" height="2998.2197588152585" class="excalidraw-svg dark"><!-- svg-source:excalidraw --><metadata></metadata><defs><style class="style-fonts">
      </style></defs><rect x="0" y="0" width="4577.1459285748615" height="2998.2197588152585" fill="#ffffff"></rect><g stroke-linecap="round" transform="translate(1299.130331262632 32.499999468928934) rotate(0 475.80212808259546 500.1534400784012)"><path d="M32 0 C261.69 -0.09, 490.31 0.1, 919.6 0 M32 0 C385.66 0.43, 738.83 0.33, 919.6 0 M919.6 0 C941.22 0.41, 949.75 9.27, 951.6 32 M919.6 0 C942.47 -0.28, 950.46 9.53, 951.6 32 M951.6 32 C951.2 239.25, 950.3 447.71, 951.6 968.31 M951.6 32 C954.03 241.57, 953.64 451.25, 951.6 968.31 M951.6 968.31 C953.42 988.58, 941.94 1000.63, 919.6 1000.31 M951.6 968.31 C949.34 988.48, 942.4 999.84, 919.6 1000.31 M919.6 1000.31 C707 999.39, 494.1 999.08, 32 1000.31 M919.6 1000.31 C583.32 1001.48, 247.28 1001.13, 32 1000.31 M32 1000.31 C9.15 998.62, 0.77 989.94, 0 968.31 M32 1000.31 C12.94 999.07, -0.52 990.12, 0 968.31 M0 968.31 C1.16 674.44, -0.28 381.84, 0 32 M0 968.31 C3.21 649.37, 3.16 330.19, 0 32 M0 32 C-1.7 12.33, 9.47 -0.47, 32 0 M0 32 C0.58 10.35, 10.43 -2.02, 32 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g stroke-linecap="round" transform="translate(1598.2445975431817 10) rotate(0 176.6878622442172 22.5)"><path d="M11.25 0 C85.56 -5.11, 157.24 -2.46, 342.13 0 C353.07 0.01, 354.05 4.3, 353.38 11.25 C356.31 15.05, 354.04 24.62, 353.38 33.75 C350.49 43.41, 349.23 48.54, 342.13 45 C242.57 44.41, 139.21 44.59, 11.25 45 C0.87 44.09, -2.74 41.58, 0 33.75 C-1 26.39, 1.85 18.65, 0 11.25 C-1.24 2.28, 2.76 -0.55, 11.25 0" stroke="none" stroke-width="0" fill="#a5d8ff"></path><path d="M11.25 0 C101.37 1.26, 192.82 1.22, 342.13 0 M11.25 0 C82.8 2.22, 154.92 2.28, 342.13 0 M342.13 0 C350.31 -1.3, 352.7 3.36, 353.38 11.25 M342.13 0 C348.49 0.3, 352.02 4.6, 353.38 11.25 M353.38 11.25 C354.34 19.77, 351.93 24.05, 353.38 33.75 M353.38 11.25 C353.54 19.2, 353.28 27.63, 353.38 33.75 M353.38 33.75 C352.86 42.39, 350.19 43.75, 342.13 45 M353.38 33.75 C355.31 40.58, 348.34 45.66, 342.13 45 M342.13 45 C259.12 46.91, 175.49 46.79, 11.25 45 M342.13 45 C275.35 43.34, 208.89 44.19, 11.25 45 M11.25 45 C3.49 45.92, 0.24 42.01, 0 33.75 M11.25 45 C2.89 43.78, 2.23 41.32, 0 33.75 M0 33.75 C1.03 24.97, 0.26 19.74, 0 11.25 M0 33.75 C-0.1 27.32, 0.43 22.69, 0 11.25 M0 11.25 C1.1 4.88, 3.08 -0.77, 11.25 0 M0 11.25 C-0.67 3.17, 3.47 -0.43, 11.25 0" stroke="#1971c2" stroke-width="2" fill="none"></path></g><g transform="translate(1648.582491830856 15) rotate(0 126.34996795654297 17.5)"><text x="126.34996795654297" y="24.668" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="28px" fill="#1971c2" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">Java와 데이터베이스</text></g><g transform="translate(1344.8853356742648 76.66368021542718) rotate(0 428.01983642578125 312.5)"><text x="0" y="17.619999999999997" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">서비스 운영에 있어서 데이터베이스는 필수적인 요소라고 볼 수 있다.</text><text x="0" y="42.62" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">비즈니스 로직을 처리하는 과정에서 데이터를 저장하고 조회하는 등의 작업이 필요하기 때문이다.</text><text x="0" y="67.62" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="0" y="92.62" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">비즈니스 로직은 프로그래밍 언어로 작성되고, 여기서는 Java를 가정하고 말할 생각이다.</text><text x="0" y="117.62" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">BE 서버와 DB를 구성한 상황에서 서버는 DB에 접근하기 위한 인터페이스가 필요하다. </text><text x="0" y="142.62" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">Java에서는 이를 위한 표준 인터페이스로 JDBC를 제공한다.</text><text x="0" y="167.62" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="0" y="192.62" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">JDBC는 Java를 이용해 DB에 접근하기 위한 과정을 추상화하여, </text><text x="0" y="217.62" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">서로다른 서비스라도 동일한 방식의 접근방법을 제공하는 것을 목적으로 한다.</text><text x="0" y="242.62" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="0" y="267.62" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">JDBC의 동작흐름은 크게 3단계로 나뉜다.</text><text x="0" y="292.62" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">1. Driver를 이용해 DB와 연결 및 Connection 객체 생성</text><text x="0" y="317.62" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">2. Connection 객체에 Statement로 SQL 쿼리 전달</text><text x="0" y="342.62" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">3. SQL 쿼리의 결과를 ResultSet으로 받음</text><text x="0" y="367.62" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="0" y="392.62" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">데이터베이스와 연결을 수립하고, 이를 유지하기 위해서는 지속적인 리소스가 소모된다.</text><text x="0" y="417.62" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">이 비용을 줄이기 위해서는 생성된 객체들을 반환하고 연결을 끊어야할 필요가 있다.</text><text x="0" y="442.62" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="0" y="467.62" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">하지만, 서비스 동작에따라 연결은 지속적으로 생성된다.</text><text x="0" y="492.62" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">매번 연결수립과 해제를 반복하는 것은 비용적으로 좋지 못하다. </text><text x="0" y="517.62" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="0" y="542.62" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">이를 해결하기 위한 방법이 DBCP 다.</text><text x="0" y="567.62" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">DBCP는 서비스가 실행될 때, DB와 특정 개수의 연결을 만들어놓고, 이를 재사용하는 방식으로 소모</text><text x="0" y="592.62" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">되는 자원을 아낀다.</text><text x="0" y="617.62" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text></g><g stroke-linecap="round" transform="translate(1331.400041556618 314.92838609778) rotate(0 292.547926348982 61.25)"><path d="M30.63 0 C215.53 -2.21, 400.84 -1.96, 554.47 0 M554.47 0 C573.14 -1.78, 583.69 12.1, 585.1 30.63 M585.1 30.63 C583.56 51.38, 586.22 73.54, 585.1 91.88 M585.1 91.88 C584 111.09, 576.05 122.22, 554.47 122.5 M554.47 122.5 C380.19 121.71, 204.2 121.12, 30.63 122.5 M30.63 122.5 C10.93 124.18, 0.02 113.59, 0 91.88 M0 91.88 C1.27 74.96, -0.79 59.73, 0 30.63 M0 30.63 C-0.82 8.67, 11.01 1.2, 30.63 0" stroke="#2f9e44" stroke-width="2.5" fill="none" stroke-dasharray="8 10"></path></g><g stroke-linecap="round"><g transform="translate(1344.1777739290828 690.4172989790484) rotate(0 428.4140811626543 -2.145646483285418)"><path d="M0.36 -0.81 C143.02 -1.85, 713.7 -4.64, 856.46 -5.23" stroke="#1971c2" stroke-width="2.5" fill="none" stroke-dasharray="8 10"></path></g></g><mask></mask><g transform="translate(1344.0130736342458 712.073180608327) rotate(0 410.54986572265625 137.50000000000003)"><text x="0" y="17.619999999999997" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">여기까지가 기초적인 배경지식이고, 이제 ORM과 SQL Mapper에 대해 알아보자</text><text x="0" y="42.62" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">앞선 방법을 통해 이미 추상화된 방법으로 Java에서 데이터베이스에 대한 접근이 가능해졌다.</text><text x="0" y="67.62" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="0" y="92.62" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">하지만, Java에서 표준으로 제공하는 API는 작성해야 하는 코드의 개수가 많았다.</text><text x="0" y="117.62" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">또한, 관리를 위해서는 개발자가 SQL 문법에 대한 이해도가 높아야한다. </text><text x="0" y="142.62" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="0" y="167.62" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">즉, 유지보수가 쉽지않다.</text><text x="0" y="192.62" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="0" y="217.62" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">이러한 단점을 개선하기 위해 등장한 기술이 ORM과 SQL Mapper 다.</text><text x="0" y="242.62" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">이 두 기술은 새로운 API를 만들어내는 것이 아니라 개발자가 비즈니스 로직에 집중할 수 있도록</text><text x="0" y="267.62" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">보다 추상화되고 간편한 DB 접근방식을 제공한다. 즉, 내부적으로는 JDBC를 이용하고 있다.</text></g><g stroke-linecap="round" transform="translate(1717.0784279216687 911.0051105653919) rotate(0 98.62905611993295 12.763760203756021)"><path d="M6.38 0 C48.37 2.74, 91.98 0.69, 190.88 0 M190.88 0 C196.12 -0.47, 198.92 1.12, 197.26 6.38 M197.26 6.38 C197.11 9.75, 196.83 14.33, 197.26 19.15 M197.26 19.15 C197.96 22.17, 196.65 24.62, 190.88 25.53 M190.88 25.53 C137.65 22.86, 82.75 24.42, 6.38 25.53 M6.38 25.53 C1.91 24.29, 1.69 21.76, 0 19.15 M0 19.15 C1.13 14.66, 0.56 12.02, 0 6.38 M0 6.38 C1.36 2.38, 1.51 1.08, 6.38 0" stroke="#1971c2" stroke-width="2.5" fill="none" stroke-dasharray="8 10"></path></g><g stroke-linecap="round" transform="translate(799.2202710463695 1125.9424337030869) rotate(0 347.4129532831806 242.54608753000923)"><path d="M32 0 C201.5 -0.09, 370.8 0.85, 662.83 0 M32 0 C162.07 -2.27, 292.91 -2.15, 662.83 0 M662.83 0 C683.27 1.32, 693.48 12.66, 694.83 32 M662.83 0 C686.4 -2.29, 693.31 8.57, 694.83 32 M694.83 32 C693.25 142.56, 693.46 255.49, 694.83 453.09 M694.83 32 C693.48 172.95, 693.89 312.97, 694.83 453.09 M694.83 453.09 C694.58 476.29, 682.32 486.47, 662.83 485.09 M694.83 453.09 C693.86 472.46, 684.8 485.11, 662.83 485.09 M662.83 485.09 C522.04 485.87, 381.31 484.58, 32 485.09 M662.83 485.09 C448.66 483.88, 235.05 484, 32 485.09 M32 485.09 C12.51 486.51, -1.18 474.37, 0 453.09 M32 485.09 C10.04 484.28, -0.6 476.28, 0 453.09 M0 453.09 C-0.57 357.5, -1.31 260.54, 0 32 M0 453.09 C-0.42 363.51, -0.4 274.31, 0 32 M0 32 C0.2 12.55, 9.36 1.54, 32 0 M0 32 C0.83 10.89, 12.79 -1.33, 32 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g stroke-linecap="round" transform="translate(935.3722677221164 1110.2788638266843) rotate(0 205.1985859951375 22.5)"><path d="M11.25 0 C134.04 -2.49, 261.37 -2.11, 399.15 0 C404.76 -0.36, 409.63 0.91, 410.4 11.25 C411.44 14.08, 411.31 22.32, 410.4 33.75 C411.45 37.87, 408.77 42.84, 399.15 45 C304.49 45.64, 206.17 44.27, 11.25 45 C3.36 47.11, -0.48 44.62, 0 33.75 C0.16 29.28, 0.02 24.63, 0 11.25 C-2.18 1.51, 1.03 0.47, 11.25 0" stroke="none" stroke-width="0" fill="#ffc9c9"></path><path d="M11.25 0 C118.03 2.4, 223.2 1.11, 399.15 0 M11.25 0 C165.39 -0.49, 318.42 -0.51, 399.15 0 M399.15 0 C405.3 1.99, 412.34 1.76, 410.4 11.25 M399.15 0 C405.13 -2.09, 409.57 2.17, 410.4 11.25 M410.4 11.25 C410.72 19.57, 411.07 23.51, 410.4 33.75 M410.4 11.25 C410.02 19.43, 410.07 29.6, 410.4 33.75 M410.4 33.75 C408.55 42.63, 405.81 43.29, 399.15 45 M410.4 33.75 C411.03 41.27, 404.87 46.92, 399.15 45 M399.15 45 C277.85 45.31, 158.68 46.94, 11.25 45 M399.15 45 C301.19 45.11, 203.84 45.37, 11.25 45 M11.25 45 C2.57 44.95, -0.55 40.54, 0 33.75 M11.25 45 C3.15 46.85, -1.62 42.55, 0 33.75 M0 33.75 C-0.22 26.92, -1.9 17.21, 0 11.25 M0 33.75 C-0.61 28.9, 0.29 25.45, 0 11.25 M0 11.25 C-1.31 5.29, 4.48 0.19, 11.25 0 M0 11.25 C2.12 2.42, 2.83 -1.19, 11.25 0" stroke="#e03131" stroke-width="2" fill="none"></path></g><g transform="translate(968.2869181703788 1115.2788638266843) rotate(0 172.283935546875 17.5)"><text x="172.283935546875" y="24.668" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="28px" fill="#e03131" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">SQL Mapper(ex: MyBatis)</text></g><g stroke-linecap="round" transform="translate(2023.7957854867632 1132.7788636050877) rotate(0 474.3819862104224 477.9348660593362)"><path d="M32 0 C223.75 -2.33, 417.39 -1.65, 916.76 0 M32 0 C213.97 1.35, 395.82 1.37, 916.76 0 M916.76 0 C937.43 -0.32, 948.01 11.67, 948.76 32 M916.76 0 C940.17 1.51, 948.23 12.12, 948.76 32 M948.76 32 C950.35 269.79, 950.99 506.89, 948.76 923.87 M948.76 32 C948.11 313.83, 947.75 595.97, 948.76 923.87 M948.76 923.87 C950.74 945.82, 938.24 955.02, 916.76 955.87 M948.76 923.87 C949.06 947.32, 939.02 955.97, 916.76 955.87 M916.76 955.87 C640.45 958.56, 364.7 958.41, 32 955.87 M916.76 955.87 C682.78 957.08, 449.24 956.98, 32 955.87 M32 955.87 C11.78 954.73, 1.23 945.18, 0 923.87 M32 955.87 C12.31 957.21, -0.01 945.99, 0 923.87 M0 923.87 C-2.57 618.15, -1.63 313.23, 0 32 M0 923.87 C-2.98 691.72, -2.96 459.22, 0 32 M0 32 C1.73 11.86, 12.27 -0.66, 32 0 M0 32 C-1 12.51, 8.69 1.42, 32 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g stroke-linecap="round" transform="translate(2321.489909579963 1110.278864177345) rotate(0 176.68786224421717 22.5)"><path d="M11.25 0 C85.93 -0.21, 159.51 3.2, 342.13 0 C351.91 -0.03, 355.27 3.01, 353.38 11.25 C354.44 19.21, 350.29 26.69, 353.38 33.75 C351.6 42.66, 347.5 48.39, 342.13 45 C244.72 45.2, 142.84 46.02, 11.25 45 C2.31 43.58, -1.55 43.42, 0 33.75 C-2.83 27.74, -0.65 15.97, 0 11.25 C-1.24 6.76, 5.99 -0.39, 11.25 0" stroke="none" stroke-width="0" fill="#ffc9c9"></path><path d="M11.25 0 C129.35 1.6, 244.63 0.43, 342.13 0 M11.25 0 C96.02 0.68, 181.25 0.81, 342.13 0 M342.13 0 C348.87 1, 355.18 5.06, 353.38 11.25 M342.13 0 C349.09 1.46, 352.59 5.17, 353.38 11.25 M353.38 11.25 C353.24 18.45, 353.52 22.67, 353.38 33.75 M353.38 11.25 C352.59 20.88, 354.38 29, 353.38 33.75 M353.38 33.75 C353.52 40.4, 349.89 46.84, 342.13 45 M353.38 33.75 C354.3 41.35, 349.89 46.57, 342.13 45 M342.13 45 C211.32 42.25, 82.48 43.29, 11.25 45 M342.13 45 C230.24 43.97, 119.08 43.95, 11.25 45 M11.25 45 C4.98 44.97, 1.43 42.41, 0 33.75 M11.25 45 C3.74 45.79, 0.97 42.71, 0 33.75 M0 33.75 C1.67 27.23, -0.7 25.87, 0 11.25 M0 33.75 C0.72 27.87, 0.67 20.97, 0 11.25 M0 11.25 C1.61 3.09, 2.88 1.6, 11.25 0 M0 11.25 C-1.97 5.17, 1.8 0.36, 11.25 0" stroke="#e03131" stroke-width="2" fill="none"></path></g><g transform="translate(2398.3998100932226 1115.278864177345) rotate(0 99.77796173095703 17.5)"><text x="99.77796173095703" y="24.668" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="28px" fill="#e03131" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">ORM(ex: JPA )</text></g><g transform="translate(830.8809918102534 1185.9433621359158) rotate(0 320.77984619140625 187.5)"><text x="0" y="17.619999999999997" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">SQL Mapper는 별도의 파일에서 SQL 쿼리를 작성하고, 이를 Java 객체와 </text><text x="0" y="42.62" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">매핑시켜 데이터베이스와 상호작용하는 형식으로 동작한다.</text><text x="0" y="67.62" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="0" y="92.62" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">SQL을 직접 작성하기 때문에 복잡한 쿼리나 최적화가 필요한 작업들을</text><text x="0" y="117.62" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">처리하는데 이점이 있다. </text><text x="0" y="142.62" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="0" y="167.62" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">대표적으로 MyBatis가 있는데, XML을 이용해 쿼리를 작성하고</text><text x="0" y="192.62" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">그 결과를 Java 객체로 매핑하는 방식으로 동작한다.</text><text x="0" y="217.62" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="0" y="242.62" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">예를든다면, XML의 &lt;select&gt; 태그에서 resultType으로 결과가 </text><text x="0" y="267.62" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">매핑될 객체를 지정하고 내부에 쿼리를 작성하는 방식이다.</text><text x="0" y="292.62" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="0" y="317.62" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">@Mapper로 Mapper 인터페이스를 지정해주고 내부에서 </text><text x="0" y="342.62" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">`org.apache.ibatis.annotations` 패키지 애노테이션을 사용하는 방식의</text><text x="0" y="367.62" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">사용도 가능하다</text></g><g transform="translate(44.906737410987716 1168.5425483711983) rotate(0 341 137.5)"><text x="0" y="17.5" font-family="Comic Shanns, monospace, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">&lt;mapper namespace="com.example.mapper.UserMapper"&gt;</text><text x="0" y="42.5" font-family="Comic Shanns, monospace, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="0" y="67.5" font-family="Comic Shanns, monospace, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">  &lt;!-- Select 쿼리: User 테이블에서 id로 사용자 정보를 조회 --&gt;</text><text x="0" y="92.5" font-family="Comic Shanns, monospace, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">  &lt;select id="selectUser" resultType="com.example.model.User"&gt;</text><text x="0" y="117.5" font-family="Comic Shanns, monospace, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">    SELECT id, name, email</text><text x="0" y="142.5" font-family="Comic Shanns, monospace, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">    FROM users</text><text x="0" y="167.5" font-family="Comic Shanns, monospace, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">    WHERE id = #{id}</text><text x="0" y="192.5" font-family="Comic Shanns, monospace, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">  &lt;/select&gt;</text><text x="0" y="217.5" font-family="Comic Shanns, monospace, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="0" y="242.5" font-family="Comic Shanns, monospace, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">&lt;/mapper&gt;</text><text x="0" y="267.5" font-family="Comic Shanns, monospace, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text></g><g stroke-linecap="round" transform="translate(10 1143.9024984340303) rotate(0 373.19408967335494 151.9469746125352)"><path d="M32 0 C204.95 1.76, 376.39 0.74, 714.39 0 M714.39 0 C736.37 -0.39, 746.85 10.09, 746.39 32 M746.39 32 C746.73 90.87, 749.01 149.95, 746.39 271.89 M746.39 271.89 C746.73 291.33, 736.06 305.16, 714.39 303.89 M714.39 303.89 C571.71 303.45, 428.8 302.92, 32 303.89 M32 303.89 C10.51 304.75, 1.65 294.62, 0 271.89 M0 271.89 C-0.15 215.62, 1.77 157.76, 0 32 M0 32 C0.66 12.02, 8.9 0.85, 32 0" stroke="#1e1e1e" stroke-width="2.5" fill="none" stroke-dasharray="8 10"></path></g><g transform="translate(341.8140921727104 1462.1698098698307) rotate(0 41.37999725341797 12.5)"><text x="0" y="17.619999999999997" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">&lt; 예시 &gt; </text></g><g transform="translate(2076.008638787464 1175.7489193027568) rotate(0 418.9797973632813 237.5)"><text x="0" y="17.619999999999997" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">ORM은 객체와 DB 테이블을 직접적으로 매핑시키고, SQL 쿼리는 ORM에 맡기는 방식으로 동작</text><text x="0" y="42.62" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">한다. </text><text x="0" y="67.62" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="0" y="92.62" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">개발자는 간단한 CRUD 등의 상황에서 SQL 쿼리를 작성할 필요가 없으며, 비즈니스 로직에 좀 더</text><text x="0" y="117.62" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">집중할 수 있다는 장점이 있다. ( 복잡한 쿼리나 성능 최적화가 필요한 땐 쿼리를 작성해야한다. )</text><text x="0" y="142.62" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="0" y="167.62" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">JPA는 JavaEE 에서 RDB를 관리하기 위한 API이며, 보통 Hibernate라는 구현체가 자주 사용된</text><text x="0" y="192.62" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">다. 만약, Spring 환경이라면 Spring Data JPA가 자주 사용된다. </text><text x="0" y="217.62" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">( Spring Data JPA도 내부적으로는 Hibernate를 사용한다 )</text><text x="0" y="242.62" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="0" y="267.62" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">주요 특징은 DB 테이블과 객체가 매핑된다는 점이다.</text><text x="0" y="292.62" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">원격저장소 등을 사용하는 상황에서 테이블이 외부에 노출될 수 있다는 단점도 있지만,</text><text x="0" y="317.62" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">초기 세팅을 완료하면 개발자의 쿼리관련 고민을 줄일 수 있다는 장점이 있다.</text><text x="0" y="342.62" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="0" y="367.62" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">데이터베이스와 직접적으로 소통하는 인터페이스를 Repository라고 부르며,</text><text x="0" y="392.62" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">해당 인터페이스 내의 Method 명명규칙에 따라 생성되는 쿼리가 정해진다.</text><text x="0" y="417.62" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="0" y="442.62" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">예를들어, findByUserId(userId) 이런 이름이라면 userId를 이용해 매핑되는 테이블로 </text><text x="0" y="467.62" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">SELECT 쿼리를 날리는 방식이다.</text></g><g stroke-linecap="round" transform="translate(2062.854967511068 1414.2357201707846) rotate(0 380.9424863423461 47.0766993065115)"><path d="M23.54 0 C210.46 1.47, 395.35 0.99, 738.35 0 M738.35 0 C753.5 1.3, 761.4 7.93, 761.88 23.54 M761.88 23.54 C760.61 33.61, 759.96 43.85, 761.88 70.62 M761.88 70.62 C760.53 85.07, 755.62 95.53, 738.35 94.15 M738.35 94.15 C455.03 95.08, 169.5 96.12, 23.54 94.15 M23.54 94.15 C8.36 93.83, 0.92 85.12, 0 70.62 M0 70.62 C0.37 62.45, -1.13 50.42, 0 23.54 M0 23.54 C0.71 7.23, 6.19 -0.69, 23.54 0" stroke="#2f9e44" stroke-width="2.5" fill="none" stroke-dasharray="8 10"></path></g><g stroke-linecap="round"><g transform="translate(2072.5949742641387 1680.4625714214021) rotate(0 425.8547397037306 -1.6233344588453065)"><path d="M1.1 0.11 C143.02 -0.36, 710.72 -2.7, 852.64 -3.31" stroke="#2f9e44" stroke-width="2.5" fill="none" stroke-dasharray="8 10"></path></g></g><mask></mask><g transform="translate(2071.5127512915756 1708.6003687080533) rotate(0 432.2898254394532 175)"><text x="0" y="17.619999999999997" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">매 요청마다 데이터베이스로 쿼리를 날리면 네트워크 비용 등의 문제가 생긴다.</text><text x="0" y="42.62" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">이를 줄이기 위해서 JPA는 영속성 컨텍스트라는 중간 저장소개념을 가지고 있다.</text><text x="0" y="67.62" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="0" y="92.62" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">영속성 컨텍스트는 트랜잭션 내의 요청들을 보관하고 있다가 특정시점에 일괄적으로 DB에 요청한다. </text><text x="0" y="117.62" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">즉, JPA는 트랜잭션의 기능을 수행할 수 있다. </text><text x="0" y="142.62" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">( 쓰기 관련 요청들만 해당하며, 읽기 요청은 필요에 따라 바로바로 DB를 거쳐 1차 캐시에 저장한다 )</text><text x="0" y="167.62" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="0" y="192.62" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">이 때문에 영속성 컨텍스트에 보관된 쿼리정보가 DB로 전달되기 이전에 시스템 문제가 생긴다면</text><text x="0" y="217.62" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">결과가 정상적으로 반영되지 않을 수 있다.</text><text x="0" y="242.62" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="0" y="267.62" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">영속성 컨텍스트에 한번 영속(Persist)된 객체는 트랜잭션이 끝날 때까지 Entity로써 동작한다.</text><text x="0" y="292.62" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">즉, 해당 Entity의 값을 수정하면 UPDATE 쿼리가 발생한다는 의미다.</text><text x="0" y="317.62" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="0" y="342.62" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">영속성 컨텍스트에 보관된 쿼리들이 한번에 DB로 전달되는 시점은 flush() 가 호출된 경우다.</text></g><g stroke-linecap="round" transform="translate(2052.122691743131 1767.8727844601422) rotate(0 452.426358317732 53.08177252331984)"><path d="M26.54 0 C322.45 0.81, 616.29 0.32, 878.31 0 M878.31 0 C897.21 0.43, 906.05 10.7, 904.85 26.54 M904.85 26.54 C903.92 45.37, 903.59 61.8, 904.85 79.62 M904.85 79.62 C905.14 97.28, 894.91 104.75, 878.31 106.16 M878.31 106.16 C599.28 104.52, 319.83 104.62, 26.54 106.16 M26.54 106.16 C9.82 107.99, 0.36 98.64, 0 79.62 M0 79.62 C1.8 63.21, 1.63 45.01, 0 26.54 M0 26.54 C-0.99 8.59, 9.1 -0.57, 26.54 0" stroke="#2f9e44" stroke-width="2.5" fill="none" stroke-dasharray="8 10"></path></g><g stroke-linecap="round"><g transform="translate(2928.057548890145 1250.7622652338296) rotate(0 1.144133341876227 25.743000192214367)"><path d="M-0.64 -0.63 C-0.48 7.91, 1.33 41.97, 1.98 50.47 M1.23 1.65 C1.11 10.37, 0.58 43.23, 0.87 51.47" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round"><g transform="translate(2931.4899489157733 1273.6449320713532) rotate(0 34.3240002562859 -0.5720666709381135)"><path d="M0.65 0.22 C11.77 0.25, 56.65 0.17, 67.89 -0.16 M-0.47 -0.71 C10.93 -0.97, 58.96 -1.76, 70.21 -1.77" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(2931.4899489157733 1273.6449320713532) rotate(0 34.3240002562859 -0.5720666709381135)"><path d="M46.81 7.02 C56.52 2.14, 67.12 -1.03, 70.21 -1.77 M46.81 7.02 C52.89 5.19, 58.95 2.43, 70.21 -1.77" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(2931.4899489157733 1273.6449320713532) rotate(0 34.3240002562859 -0.5720666709381135)"><path d="M46.63 -10.08 C56.38 -8.15, 67.04 -4.5, 70.21 -1.77 M46.63 -10.08 C52.87 -7.67, 58.98 -6.18, 70.21 -1.77" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round" transform="translate(3026.2572062025783 1220.2669711955355) rotate(0 255.33754532731086 127.74662809777055)"><path d="M32 0 C133.7 -2.11, 235.03 -1.46, 478.68 0 M32 0 C174.07 -0.89, 315.44 -1.32, 478.68 0 M478.68 0 C499.8 0.38, 511.04 11.36, 510.68 32 M478.68 0 C500.31 2.27, 512.11 9.58, 510.68 32 M510.68 32 C512.13 84.2, 511.25 139.24, 510.68 223.49 M510.68 32 C509.08 105, 509.2 179.87, 510.68 223.49 M510.68 223.49 C512.22 243.78, 500.94 255.54, 478.68 255.49 M510.68 223.49 C510.12 243.12, 498.18 256.12, 478.68 255.49 M478.68 255.49 C370.94 253.57, 263.3 254.63, 32 255.49 M478.68 255.49 C321.26 253.81, 164.84 253.75, 32 255.49 M32 255.49 C11.43 254.48, 0.68 244.98, 0 223.49 M32 255.49 C12.54 256.31, 2.2 242.92, 0 223.49 M0 223.49 C-0.56 152.03, -0.45 79.91, 0 32 M0 223.49 C1.43 172.47, 0.88 123.64, 0 32 M0 32 C0.59 9.07, 9.92 -0.36, 32 0 M0 32 C-0.76 12.13, 8.63 0.72, 32 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(3058.488749864031 1243.8974651825724) rotate(0 226.40985107421875 100)"><text x="0" y="17.619999999999997" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">직접 쿼리를 작성하는 상황에서는 </text><text x="0" y="42.62" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">보통 @Query나 QueryDSL 같은 라이브러리를 쓴다.</text><text x="0" y="67.62" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="0" y="92.62" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">@Query의 경우 JPQL 이라는 언어를 쓰거나, </text><text x="0" y="117.62" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">Native Query를 쓴다.</text><text x="0" y="142.62" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="0" y="167.62" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">QueryDSL은 동적 쿼리생성을 지원하기 때문에</text><text x="0" y="192.62" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">해당 기능이 필요하다면 이 라이브러리를 사용하자</text></g><g stroke-linecap="round" transform="translate(2919.256763114016 1922.024105132598) rotate(0 312.25999132717743 175.18551482472094)"><path d="M32 0 C206.63 -3.33, 379.02 -5.1, 592.52 0 C610.67 -2.68, 628 12.96, 624.52 32 C619.21 103.11, 619.54 170.93, 624.52 318.37 C622.56 338.91, 613.1 349.52, 592.52 350.37 C425.48 348.19, 257 347.97, 32 350.37 C11.16 350.65, 2.5 341.3, 0 318.37 C0.51 231.96, 3.36 147.8, 0 32 C2.36 11.78, 8.71 -3.58, 32 0" stroke="none" stroke-width="0" fill="#ffffff"></path><path d="M32 0 C165.99 -1.42, 298.83 0, 592.52 0 M32 0 C193.38 1.16, 354.52 1.48, 592.52 0 M592.52 0 C612.04 -1.14, 623.95 10.5, 624.52 32 M592.52 0 C615.81 0.3, 624.24 9.49, 624.52 32 M624.52 32 C624.57 130.99, 623.41 231.24, 624.52 318.37 M624.52 32 C624.51 119.17, 623.35 205.31, 624.52 318.37 M624.52 318.37 C625.67 338.63, 615.6 350.55, 592.52 350.37 M624.52 318.37 C624.22 339.26, 611.83 350.42, 592.52 350.37 M592.52 350.37 C387.41 349.98, 181.7 349.94, 32 350.37 M592.52 350.37 C459.75 351.8, 325.82 352.07, 32 350.37 M32 350.37 C11.73 351.11, -1.05 341.48, 0 318.37 M32 350.37 C9.77 351.02, 1.71 341.67, 0 318.37 M0 318.37 C-1.23 250.51, -1.02 184.78, 0 32 M0 318.37 C-1.32 253.45, -1.51 188.21, 0 32 M0 32 C-1.94 11.9, 11.55 1.67, 32 0 M0 32 C1.25 11.65, 9.38 -1.02, 32 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g stroke-linecap="round" transform="translate(2978.2050746574314 1900.4174301430703) rotate(0 63.754300032197534 17.5)"><path d="M8.75 0 C29.08 -4.88, 59.35 -0.72, 118.76 0 C125.12 2.35, 126.89 2.82, 127.51 8.75 C129.45 12.09, 127.23 16.38, 127.51 26.25 C130.3 35.33, 124.67 35.34, 118.76 35 C82.65 33.73, 47.65 33.52, 8.75 35 C-0.29 33.87, 2.41 30.84, 0 26.25 C-3.33 20.52, -0.85 18.1, 0 8.75 C-0.43 0.46, 3.04 2.65, 8.75 0" stroke="none" stroke-width="0" fill="#a5d8ff"></path><path d="M8.75 0 C49.73 -0.54, 86.8 1.11, 118.76 0 M8.75 0 C47.05 -1.16, 84.05 -0.49, 118.76 0 M118.76 0 C126.56 1.83, 128.57 3.42, 127.51 8.75 M118.76 0 C123.44 -2.24, 125.47 1.21, 127.51 8.75 M127.51 8.75 C126.04 15.98, 126.47 23.39, 127.51 26.25 M127.51 8.75 C127.25 12.88, 127.24 17.38, 127.51 26.25 M127.51 26.25 C127.45 30.49, 125.84 36.43, 118.76 35 M127.51 26.25 C128.11 33.38, 124.91 35.18, 118.76 35 M118.76 35 C76.65 35.17, 35.75 34.23, 8.75 35 M118.76 35 C84.03 35.18, 47.69 36.45, 8.75 35 M8.75 35 C1.05 35.84, 0.13 33.71, 0 26.25 M8.75 35 C4.52 33, -1.84 32.24, 0 26.25 M0 26.25 C-1.13 22.64, -0.7 15.4, 0 8.75 M0 26.25 C0.29 22.4, 0.51 17.78, 0 8.75 M0 8.75 C1.63 3.66, 0.94 -1.32, 8.75 0 M0 8.75 C2.07 1.05, 4.37 0.11, 8.75 0" stroke="#1971c2" stroke-width="2" fill="none"></path></g><g transform="translate(3005.5593960519336 1905.4174301430703) rotate(0 36.39997863769531 12.5)"><text x="36.39997863769531" y="17.619999999999997" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1971c2" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">지연로딩</text></g><g transform="translate(2968.4958547799015 1948.9616147125798) rotate(0 267.75994873046875 150)"><text x="0" y="17.619999999999997" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">1:N이나 N:M 관계인 경우. 특정 테이블의 튜플을 읽었을 때</text><text x="0" y="42.62" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">관련된 다수의 튜플들이 함께 읽어져야 하는 상황이 있다.</text><text x="0" y="67.62" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="0" y="92.62" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">이 경우, 하나의 Entity을 읽었을 뿐인데 다수의 쿼리가</text><text x="0" y="117.62" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">연달아 발생하는 경우가 생기며, N+1 문제로 불린다.</text><text x="0" y="142.62" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="0" y="167.62" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">지연로딩을 이용하여 연관된 Entity 정보를 읽어올 시점을 </text><text x="0" y="192.62" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">지정하는 방법으로 개선이 가능하다.</text><text x="0" y="217.62" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="0" y="242.62" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">기본 로딩전략은 즉시로딩이기 때문에, 이를 지연로딩으로 </text><text x="0" y="267.62" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">바꿔주면 실제로 해당 튜플이 필요한 시점에 쿼리가 발생하도록</text><text x="0" y="292.62" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">할 수 있다.</text></g><g stroke-linecap="round" transform="translate(3053.7966101083057 2281.5904532449504) rotate(0 419.66413696020857 228.11505680892617)"><path d="M32 0 C266.67 3, 501.01 3.57, 807.33 0 C831.95 1.4, 842.76 8.73, 839.33 32 C841.39 134.56, 840.81 242.99, 839.33 424.23 C840.55 447.6, 825.7 456.42, 807.33 456.23 C616.15 456.71, 425.26 457.06, 32 456.23 C8.5 453.24, 2.34 448.87, 0 424.23 C1.56 269.27, 1.78 111.76, 0 32 C-0.65 14.04, 10.65 2.25, 32 0" stroke="none" stroke-width="0" fill="#ffffff"></path><path d="M32 0 C266.81 0.94, 503.55 1.56, 807.33 0 M32 0 C206.1 -1.12, 380.82 -1.15, 807.33 0 M807.33 0 C830.38 1.44, 837.81 11.57, 839.33 32 M807.33 0 C830.07 0.62, 838.41 9.43, 839.33 32 M839.33 32 C838.37 185.7, 837.75 337.61, 839.33 424.23 M839.33 32 C838.69 140.06, 839.15 247.82, 839.33 424.23 M839.33 424.23 C841.12 447.54, 828.91 457.82, 807.33 456.23 M839.33 424.23 C840.72 446.38, 829.62 455.48, 807.33 456.23 M807.33 456.23 C586.49 455.72, 364.83 456.41, 32 456.23 M807.33 456.23 C632.35 456.71, 458.31 456.29, 32 456.23 M32 456.23 C9.16 454.55, -0.04 444.04, 0 424.23 M32 456.23 C11.37 454.8, -0.5 443.87, 0 424.23 M0 424.23 C-1.81 291.67, -2.01 159.25, 0 32 M0 424.23 C0.06 283.21, -0.29 142.2, 0 32 M0 32 C1.75 11.03, 10.44 -0.98, 32 0 M0 32 C-0.99 11.13, 8.46 1.19, 32 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g stroke-linecap="round" transform="translate(3105.4545656318346 2255.262853183623) rotate(0 63.754300032197534 17.5)"><path d="M8.75 0 C33.8 1.19, 65.42 1.68, 118.76 0 C128.02 -1.94, 126.31 5.28, 127.51 8.75 C125.6 17.55, 128.48 22.95, 127.51 26.25 C124.55 32.27, 122.69 37.75, 118.76 35 C87.41 35.34, 48.15 31.82, 8.75 35 C5.26 38.31, 3.5 30.31, 0 26.25 C-0.28 21.45, -0.5 21.92, 0 8.75 C-0.01 5.17, 2.26 -1.9, 8.75 0" stroke="none" stroke-width="0" fill="#b2f2bb"></path><path d="M8.75 0 C39.55 1.37, 65.44 0.52, 118.76 0 M8.75 0 C45.84 -0.07, 83.16 0.87, 118.76 0 M118.76 0 C123.08 0.9, 128.73 3.46, 127.51 8.75 M118.76 0 C123.68 -1.24, 129.57 2.32, 127.51 8.75 M127.51 8.75 C125.96 13.43, 127.02 18.12, 127.51 26.25 M127.51 8.75 C127.93 12.48, 128.25 17.59, 127.51 26.25 M127.51 26.25 C127.75 33.68, 125.8 35.71, 118.76 35 M127.51 26.25 C128.46 31.33, 124.25 35, 118.76 35 M118.76 35 C84.65 34.67, 51.12 33.21, 8.75 35 M118.76 35 C84.64 34.23, 48.97 34.3, 8.75 35 M8.75 35 C2.87 33.47, 0.61 30.84, 0 26.25 M8.75 35 C2.41 33.31, 0.9 33.49, 0 26.25 M0 26.25 C-0.87 24.23, 1.11 18.88, 0 8.75 M0 26.25 C-0.48 22.49, 0.75 18.27, 0 8.75 M0 8.75 C-0.23 1.94, 2.05 0.4, 8.75 0 M0 8.75 C-2.21 4.11, 2.98 -0.91, 8.75 0" stroke="#2f9e44" stroke-width="2" fill="none"></path></g><g transform="translate(3130.9488787865907 2260.262853183623) rotate(0 38.259986877441406 12.5)"><text x="38.259986877441406" y="17.619999999999997" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#2f9e44" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">N+1 문제</text></g><g transform="translate(3104.090753763345 2294.761081376558) rotate(0 368.6697998046875 212.5)"><text x="0" y="17.619999999999997" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">지연로딩을 통해 N+1 문제를 해결할 수 있는 것처럼 작성했지만, </text><text x="0" y="42.62" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">결국 쿼리의 발생 시점을 늦출 뿐이다. 즉, 발생하는 쿼리의 수를 줄이지는 못한다.</text><text x="0" y="67.62" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="0" y="92.62" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">이를 해결하기 위한 방법은 크게 2가지로 나뉜다.</text><text x="0" y="117.62" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">1. Join을 통해 하나의 테이블로 받아오기</text><text x="0" y="142.62" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">2. 특정 크기를 정해서 그 단위로 받아오기</text><text x="0" y="167.62" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="0" y="192.62" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">1번 방법의 경우, `join fetch` or `@EntityGraph`를 사용하는 방법으로 나뉜다.</text><text x="0" y="217.62" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">둘 다 Eager Join으로 데이터를 가져와야 한다</text><text x="0" y="242.62" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="0" y="267.62" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">`join fetch`는 Inner Join으로 가져오기 때문에 페이징처리가 불가능하고 데이터가 </text><text x="0" y="292.62" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">중복될 수 있다는 단점이 있다.</text><text x="0" y="317.62" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="0" y="342.62" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">`@EntityGraph`는 Left Outer Join을 사용하기에 결과값으로 NULL이 올 수 있다.</text><text x="0" y="367.62" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="0" y="392.62" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">2번 방법의 경우, 지연로딩을 전제로 하여 추가 쿼리가 발생해야하는 상황에서 </text><text x="0" y="417.62" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">IN 쿼리를 이용하여 정해진 BatchSize 만큼만 가져오도록 설정하는 방법이다.</text></g><g stroke-linecap="round"><g transform="translate(3107.462265940488 2719.4453574720083) rotate(0 311.77478335571675 -0.44283841711830974)"><path d="M0.77 0.34 C105 0.17, 520.58 -0.3, 624.57 -0.5 M-0.28 -0.52 C103.95 -1.12, 520.02 -2.59, 624.15 -2.42" stroke="#2f9e44" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round"><g transform="translate(3295.5171327652083 2721.4812101329703) rotate(0 0.08399907748685109 19.37645294010963)"><path d="M-0.27 0.28 C-0.23 6.8, 0.03 32.57, 0.14 38.96 M0.59 -0.05 C0.57 6.31, -0.23 31.57, -0.31 38.11" stroke="#2f9e44" stroke-width="2" fill="none"></path></g><g transform="translate(3295.5171327652083 2721.4812101329703) rotate(0 0.08399907748685109 19.37645294010963)"><path d="M-6.52 19.75 C-4.33 24.77, -2.75 30.23, -0.31 38.11 M-6.52 19.75 C-5.14 24.47, -2.86 29.97, -0.31 38.11" stroke="#2f9e44" stroke-width="2" fill="none"></path></g><g transform="translate(3295.5171327652083 2721.4812101329703) rotate(0 0.08399907748685109 19.37645294010963)"><path d="M6.73 20.05 C5.27 24.95, 3.21 30.33, -0.31 38.11 M6.73 20.05 C4.4 24.74, 2.97 30.15, -0.31 38.11" stroke="#2f9e44" stroke-width="2" fill="none"></path></g></g><mask></mask><g transform="translate(3105.9919463727933 2777.5684759680944) rotate(0 420.30987548828125 50)"><text x="0" y="17.619999999999997" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#2f9e44" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">현재 Table의 PK를 이용해 BatchSize 만큼 대상 테이블에서 IN(1, 2 ... ) 이런식으로 작성된다. </text><text x="0" y="42.62" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#2f9e44" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">즉, 세부조회를 시도하면 Lazy하게 하나의 추가쿼리가 발생한다.</text><text x="0" y="67.62" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#2f9e44" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="0" y="92.62" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="20px" fill="#2f9e44" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">EX: BatchSize가 10인 경우</text></g><g stroke-linecap="round"><g transform="translate(1295.4018933649425 931.5844393656598) rotate(0 -80.17803827807336 87.33333333333343)"><path d="M-0.98 -0.69 C-18.81 2.62, -80.15 -8.98, -106.58 20.2 C-133.02 49.38, -150.53 148.74, -159.59 174.37 M0.71 1.56 C-16.79 4.94, -77.56 -7.86, -104.34 21.14 C-131.12 50.14, -150.51 149.93, -159.96 175.54" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1295.4018933649425 931.5844393656598) rotate(0 -80.17803827807336 87.33333333333343)"><path d="M-161.77 150.6 C-162.24 157.47, -162.37 168.57, -159.96 175.54 M-161.77 150.6 C-160.7 157.4, -160.59 163.43, -159.96 175.54" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1295.4018933649425 931.5844393656598) rotate(0 -80.17803827807336 87.33333333333343)"><path d="M-145.32 155.28 C-151.3 160.45, -156.95 169.99, -159.96 175.54 M-145.32 155.28 C-148.76 160.7, -153.19 165.44, -159.96 175.54" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g stroke-linecap="round"><g transform="translate(2252.793893657091 938.1076907763662) rotate(0 119.94142000950518 83.02574806240358)"><path d="M-0.56 -1.12 C23.11 1.94, 101.23 -8.68, 141.48 19.26 C181.73 47.19, 224.62 142.16, 240.94 166.47 M1.35 0.91 C24.97 4.05, 101.01 -6.75, 140.91 20.49 C180.8 47.73, 224.31 140.14, 240.73 164.35" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(2252.793893657091 938.1076907763662) rotate(0 119.94142000950518 83.02574806240358)"><path d="M221.54 148.33 C224.67 153.67, 230.45 158.32, 240.73 164.35 M221.54 148.33 C227.52 153.56, 234.19 158.85, 240.73 164.35" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(2252.793893657091 938.1076907763662) rotate(0 119.94142000950518 83.02574806240358)"><path d="M236.32 139.74 C235.76 147.2, 237.79 154.02, 240.73 164.35 M236.32 139.74 C237.32 147.74, 239.04 155.9, 240.73 164.35" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask></mask><g transform="translate(3107.434123500435 2888.2197588152585) rotate(0 242 50)"><text x="0" y="17.5" font-family="Comic Shanns, monospace, Segoe UI Emoji" font-size="20px" fill="#1971c2" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">SELECT c.id, c.description, c.post_id </text><text x="0" y="42.5" font-family="Comic Shanns, monospace, Segoe UI Emoji" font-size="20px" fill="#1971c2" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">FROM Command c </text><text x="0" y="67.5" font-family="Comic Shanns, monospace, Segoe UI Emoji" font-size="20px" fill="#1971c2" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">WHERE c.post_id = 1 </text><text x="0" y="92.5" font-family="Comic Shanns, monospace, Segoe UI Emoji" font-size="20px" fill="#1971c2" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">AND c.id IN (1, 2, 3, 4, 5, 6, 7, 8, 9, 10);</text></g><g stroke-linecap="round"><g transform="translate(3843.584536160344 2553.833132847447) rotate(0 45.80966085913042 -3.983448770359246)"><path d="M1.13 -1.05 C16.46 -2.36, 75.99 -6.32, 91.18 -7.61 M0.26 1.01 C15.47 -0.69, 74.74 -8.06, 90 -9.55" stroke="#e03131" stroke-width="2" fill="none"></path></g></g><mask></mask><g transform="translate(3949.1459285748615 2487.1103659439314) rotate(0 309 62.5)"><text x="0" y="17.5" font-family="Comic Shanns, monospace, Segoe UI Emoji" font-size="20px" fill="#e03131" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">1:N 관계에서 1에 해당되는 테이블을 조회하면서</text><text x="0" y="42.5" font-family="Comic Shanns, monospace, Segoe UI Emoji" font-size="20px" fill="#e03131" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">N을 inner join 하면 기존의 테이블 레코드보다 증가하게 되면서</text><text x="0" y="67.5" font-family="Comic Shanns, monospace, Segoe UI Emoji" font-size="20px" fill="#e03131" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">제대로된 페이징이 불가능해진다</text><text x="0" y="92.5" font-family="Comic Shanns, monospace, Segoe UI Emoji" font-size="20px" fill="#e03131" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic"></text><text x="0" y="117.5" font-family="Comic Shanns, monospace, Segoe UI Emoji" font-size="20px" fill="#e03131" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">반대의 상황(N:1)은 상관없다</text></g></svg></div></div></div><div id="right-content" class="leaf" style="--sidebar-width: var(--sidebar-width-right);"><div id="right-sidebar" class="sidebar"><div class="sidebar-handle"></div><div class="sidebar-topbar"><div class="topbar-content"></div><div class="clickable-icon sidebar-collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" class="svg-icon"><path d="M21 3H3C1.89543 3 1 3.89543 1 5V19C1 20.1046 1.89543 21 3 21H21C22.1046 21 23 20.1046 23 19V5C23 3.89543 22.1046 3 21 3Z"></path><path d="M10 4V20"></path><path d="M4 7H7"></path><path d="M4 10H7"></path><path d="M4 13H7"></path></svg></div></div><div class="sidebar-content-wrapper"><div id="right-sidebar-content" class="leaf-content"></div></div><script defer="">let rs = document.querySelector("#right-sidebar"); rs.classList.toggle("is-collapsed", window.innerWidth < 768); rs.style.setProperty("--sidebar-width", localStorage.getItem("sidebar-right-width"));</script></div></div></div></div></body></html>